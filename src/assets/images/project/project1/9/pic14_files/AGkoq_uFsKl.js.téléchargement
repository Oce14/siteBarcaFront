;/*FB_PKG_DELIM*/

__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").getItem(a,function(a,c){d&&d(a,c),a!=null?e(a):b(c)})})},removeItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").removeItem(a,function(a){d&&d(a),a!=null?e(a):b()})})},setItem:function(a,d,e){return new(h||(h=b("Promise")))(function(b,f){c("WebAsyncStorage").setItem(a,d,function(a){e&&e(a),a!=null?f(a):b()})})}};d=a;g["default"]=d}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState,l=b.c;function a(a){var b=l(9),c=a.dataSource;a=k(!1);var d=a[0],e=a[1],f=j(null);b[0]!==c?(a=function(a){var b,d=a.onResolvePayload;a=a.requestParams;(b=f.current)==null?void 0:b.unsubscribe();f.current=c.fetchNetwork(a).subscribe({complete:function(){e(!1)},error:function(a){e(!1)},next:function(a){return d(a)},start:function(a){e(!0)},unsubscribe:function(){e(!1)}})},b[0]=c,b[1]=a):a=b[1];a=a;var g,h;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return function(){var a;(a=f.current)==null?void 0:a.unsubscribe()}},h=[],b[2]=g,b[3]=h):(g=b[2],h=b[3]);i(g,h);b[4]!==d?(g={isLoading:d},b[4]=d,b[5]=g):g=b[5];b[6]!==g||b[7]!==a?(h=[g,a],b[6]=g,b[7]=a,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef,k=e.c;function a(a,d){var e=k(17),f=a.dataSource,g=a.dataSourceFetchConfigParams,h=a.onResolvePayload;e[0]!==g?(a=g===void 0?{}:g,e[0]=g,e[1]=a):a=e[1];g=a;a=g.requestFlow;g=g.shouldDebounceNetwork;var l=g===void 0?!0:g;e[2]!==f?(g={dataSource:f},e[2]=f,e[3]=g):g=e[3];f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")(g);g=f[0];var m=f[1];f=g.isLoading;var n=c("useDebouncedComet")(m);e[4]!==h?(g=function(a,b){var d=b.isTraceComplete;b=b.source;try{h(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},e[4]=h,e[5]=g):g=e[5];var o=g,p=j(a);e[6]!==o?(g=function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},e[6]=o,e[7]=g):g=e[7];var q=g;e[8]!==q||e[9]!==l||e[10]!==n||e[11]!==m||e[12]!==d?(a=function(){var a=function(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(l)?n(b):m(b)};d!=null&&a(d)},g=[m,n,d,q,l],e[8]=q,e[9]=l,e[10]=n,e[11]=m,e[12]=d,e[13]=a,e[14]=g):(a=e[13],g=e[14]);i(a,g);e[15]!==f?(a=[{isLoading:f}],e[15]=f,e[16]=a):a=e[16];return a}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState,j=b.c;function a(a){var b,d=j(9),e=i(null),f=e[0],g=e[1];e=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,f);a=e[0];e=a.isLoading;d[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;g({requestParams:a,source:b})},d[0]=a):a=d[0];var h=a;d[1]!==f?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(f==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=f.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);h(e,a)},d[1]=f,d[2]=a):a=d[2];a=a;b=(b=f==null?void 0:f.source)!=null?b:"all";var k;d[3]!==e||d[4]!==b?(k={isLoading:e,source:b},d[3]=e,d[4]=b,d[5]=k):k=d[5];d[6]!==k||d[7]!==a?(e=[k,h,a],d[6]=k,d[7]=a,d[8]=e):e=d[8];return e}g["default"]=a}),98);
__d("TypeaheadLoggingFetchRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1880031");b=d("FalcoLoggerInternal").create("typeahead_logging_fetch_request",a);e=b;g["default"]=e}),98);
__d("CometTypeaheadVolumeLoggingProvider",["TypeaheadLoggingFetchRequestFalcoEvent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return Math.random().toString()};a=function(){function a(a){this.$2=null,this.$1=a,this.$2=h()}var b=a.prototype;b.getContext=function(){return this.$1};b.getSessionID=function(){this.$2==null&&c("recoverableViolation")("Logging sessionID requested from "+this.getContext()+" surface does not exist.","search");return this.$2};b.logRequest=function(a){var b={context:this.getContext(),requestType:a,sessionID:this.getSessionID()};c("TypeaheadLoggingFetchRequestFalcoEvent").log(function(){return{fetchRequest:b}})};return a}();g["default"]=a}),98);
__d("useCometTypeaheadVolumeLoggingProvider",["CometTypeaheadVolumeLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a){var b=i(2);a=a===void 0?"UNKNOWN":a;var d;b[0]!==a?(d=new(c("CometTypeaheadVolumeLoggingProvider"))(a),b[0]=a,b[1]=d):d=b[1];a=d;return a}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,h=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:j(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);h&&!h.isResolved()&&(d&&(b==="cache"&&a.length>=h.getEntriesCountForVisualComplete()?h.setEndReason("max_suggestions_reached"):b==="network"?h.setEndReason("all_queries_completed"):b==="network-no-results"&&h.setEndReason("all_queries_completed_no_network_results"),h.resolve()))},[l,g,h])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=k(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:n,source:o,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;var k=b.c;function a(a){var b=k(77),d,e,f,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;b[0]!==a?(d=a.autoOpen,e=a.autoFocus,f=a.isDisabled,g=a.errorMessage,A=a.inputStrategyRenderer,F=a.dataSource,G=a.dataSourceFetchConfigParams,h=a.decorators,K=a.emptyEntries_DO_NOT_USE,B=a.id,l=a.label,H=a.loggingContext,m=a.onBackspace,n=a.onBlur,y=a.onChange,o=a.onClose,p=a.onEnter,q=a.onEscape,I=a.onFetchEntries_DO_NOT_USE,r=a.onFocus,s=a.onOpen,z=a.onPressEntry,t=a.placeholder,u=a.shouldQueryStringFollowHighlightedEntry,v=a.shouldQueryStringUpdateFromSelectedEntryOnClick,w=a.testid,J=a.traceProvider,D=a.inputRef,x=a.viewRole,E=a.viewStrategyRenderer,C=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J,b[31]=K):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30],K=b[31]);a=d===void 0?!1:d;d=e===void 0?!1:e;e=f===void 0?!1:f;f=g===void 0?null:g;b[32]!==h?(g=h===void 0?[]:h,b[32]=h,b[33]=g):g=b[33];h=g;g=l===void 0?"":l;l=m===void 0?c("emptyFunction"):m;m=n===void 0?c("emptyFunction"):n;n=o===void 0?c("emptyFunction"):o;o=p===void 0?c("emptyFunction"):p;p=q===void 0?c("emptyFunction"):q;q=r===void 0?c("emptyFunction"):r;r=s===void 0?c("emptyFunction"):s;s=t===void 0?"":t;t=u===void 0?!0:u;var L=v===void 0?!0:v;u=w===void 0?"":w;v=x===void 0?"listbox":x;w=j();var M;b[34]!==h?(M=c("CometInternalTypeahead.react"),h.forEach(function(a){var b=a.decorate;a=a.params;M=b(M,a)}),b[34]=h,b[35]=M):M=b[35];x=M;h=x;b[36]!==L||b[37]!==y||b[38]!==z?(x=function(a){L&&y(a.label),z&&z(a)},b[36]=L,b[37]=y,b[38]=z,b[39]=x):x=b[39];x=x;var N;b[40]!==t||b[41]!==A?(N=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(A,{shouldQueryStringFollowHighlightedEntry:t}),b[40]=t,b[41]=A,b[42]=N):N=b[42];t=N;A=t;N=g||s;g=(t=B)!=null?t:w;if(b[43]!==h||b[44]!==C||b[45]!==d||b[46]!==f||b[47]!==g||b[48]!==D||b[49]!==A||b[50]!==e||b[51]!==N||b[52]!==l||b[53]!==m||b[54]!==y||b[55]!==o||b[56]!==p||b[57]!==q||b[58]!==x||b[59]!==s||b[60]!==u||b[61]!==v||b[62]!==E){t=i.jsx(h,babelHelpers["extends"]({},C,{autoFocus:d,errorMessage:f,id:g,inputRef:D,inputStrategyRenderer:A,isDisabled:e,label:N,onBackspace:l,onBlur:m,onChange:y,onDownArrow:B=c("emptyFunction"),onEnter:o,onEscape:p,onFocus:q,onHighlightEntry:B,onPressEntry:x,onShiftTab:B,onTab:B,onUpArrow:B,placeholder:s,testid:void 0,viewRole:v,viewStrategyRenderer:E}));b[43]=h;b[44]=C;b[45]=d;b[46]=f;b[47]=g;b[48]=D;b[49]=A;b[50]=e;b[51]=N;b[52]=l;b[53]=m;b[54]=y;b[55]=o;b[56]=p;b[57]=q;b[58]=x;b[59]=s;b[60]=u;b[61]=v;b[62]=E;b[63]=t}else t=b[63];b[64]!==F||b[65]!==G||b[66]!==H||b[67]!==I||b[68]!==J||b[69]!==t?(w=i.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:F,dataSourceFetchConfigParams:G,loggingContext:H,onFetchEntries_DO_NOT_USE:I,traceProvider:J,children:t}),b[64]=F,b[65]=G,b[66]=H,b[67]=I,b[68]=J,b[69]=t,b[70]=w):w=b[70];b[71]!==a||b[72]!==K||b[73]!==n||b[74]!==r||b[75]!==w?(B=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:K,onClose:n,onOpen:r,children:w})}),b[71]=a,b[72]=K,b[73]=n,b[74]=r,b[75]=w,b[76]=B):B=b[76];return B}g["default"]=a}),98);
__d("CancellablePromise",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i="CancellationToken.TokenCancelled";function a(a,d,e){return e.then(function(e){return a.isCancelled()?(h||(h=b("Promise"))).reject(c("err")(i)):d(e)})}function d(a,d){return d["catch"](function(d){return d instanceof Error&&d.message===i?(h||(h=b("Promise"))).resolve(a):(h||(h=b("Promise"))).reject(c("err"))})}g.then_=a;g.ignoreFailed=d}),98);
__d("CancellationToken",[],(function(a,b,c,d,e,f){"use strict";function a(){var a={contents:!1};return{cancel:function(){a.contents=!0},isCancelled:function(){return a.contents}}}f["default"]=a}),66);
__d("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelCommunitiesQPBannerContainer.react",["CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e,f=j(13),g=a.messagingEntryPoint,i=a.onClose;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelCommunitiesQPBannerContainer_viewer.graphql"),a);var m;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(m={context_surface_id:10713,context_trigger:"messaging_jewel_communities_tab_open"},f[0]=m):m=f[0];m=c("useQuickPromotionFalcoEvent")(m);if(f[1]!==(a==null?void 0:(e=a.eligible_promotions)==null?void 0:e.nodes)){e=a==null?void 0:(e=a.eligible_promotions)==null?void 0:(e=e.nodes)==null?void 0:e.find(l);f[1]=a==null?void 0:(a=a.eligible_promotions)==null?void 0:a.nodes;f[2]=e}else e=f[2];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;if(a==null)return null;f[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),f[3]=e):e=f[3];var n;f[4]!==g||f[5]!==i?(n={messagingEntryPoint:g,onClose:i},f[4]=g,f[5]=i,f[6]=n):n=f[6];f[7]!==a||f[8]!==n?(g=k.jsx(d("CometRelay").MatchContainer,{match:a,props:n}),f[7]=a,f[8]=n,f[9]=g):g=f[9];f[10]!==m||f[11]!==g?(i=k.jsx(c("CometPlaceholder.react"),{fallback:e,name:"CometMessagingJewelCommunitiesQPBannerContainer",children:k.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:m,children:g})}),f[10]=m,f[11]=g,f[12]=i):i=f[12];return i}function l(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("CometTopNavListDropdownTitle.react",["fbt","ix","BaseHeading.react","CometRow.react","CometRowItem.react","FDSText.react","Locale","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=[];function a(a){var b=k(16),e=a.actions,f=a.onReturn,g=a.testid;a=a.title;e=e===void 0?m:e;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j="x6s0dn4 x78zum5 x2lah0s x1qughib x21xpn4 xz9dl7a x1pi30zi xjkvuk6 x1swvt13",b[0]=j):j=b[0];var o;b[1]!==f?(o=f!=null?l.jsx(c("CometRowItem.react"),{children:l.jsx(c("TetraCircleButton.react"),{icon:d("Locale").isRTL()?d("fbicon")._(i("514454"),20):d("fbicon")._(i("512647"),20),label:h._("__JHASH__v6nfNn2Wv-y__JHASH__"),onPress:f,size:32,type_DEPRECATED:"deemphasized"})}):null,b[1]=f,b[2]=o):o=b[2];b[3]!==a?(f=l.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:l.jsx(c("BaseHeading.react"),{isPrimaryHeading:!0,children:l.jsx(c("FDSText.react"),{type:"headlineEmphasized1",children:a})})}),b[3]=a,b[4]=f):f=b[4];b[5]!==o||b[6]!==f?(a=l.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:[o,f]}),b[5]=o,b[6]=f,b[7]=a):a=b[7];b[8]!==e?(o=e.map(n),b[8]=e,b[9]=o):o=b[9];b[10]!==o?(f=l.jsx(c("CometRow.react"),{paddingHorizontal:0,paddingTop:0,spacingHorizontal:8,children:o}),b[10]=o,b[11]=f):f=b[11];b[12]!==g||b[13]!==a||b[14]!==f?(e=l.jsxs("header",{className:j,"data-testid":void 0,children:[a,f]}),b[12]=g,b[13]=a,b[14]=f,b[15]=e):e=b[15];return e}function n(a,b){return l.jsx(c("CometRowItem.react"),{children:a},b)}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessagingJewelDropdownContentGlimmer.react",["CometTopNavListDropdownTitle.react","FDSListCellGlimmer.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={loadingStateCard:{boxSizing:"x9f619",height:"x20eyyc",maxWidth:"xvv7f4i",width:"x1cvmir6",$$css:!0}};function a(a){var b=j(9),d=a.isFullHeight,e=a.title;a=a.withBackButton;d=d===void 0?!1:d;a=a===void 0?!1:a;d=d&&l.loadingStateCard;var f;b[0]!==d?(f=(h||(h=c("stylex")))(d),b[0]=d,b[1]=f):f=b[1];b[2]!==e||b[3]!==a?(d=e!=null&&k.jsx(c("CometTopNavListDropdownTitle.react"),{onReturn:a?c("emptyFunction"):void 0,title:e}),b[2]=e,b[3]=a,b[4]=d):d=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("FDSListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:Math.max(Math.ceil((window.innerHeight-72-45)/76),1)}),b[5]=e):e=b[5];b[6]!==f||b[7]!==d?(a=k.jsxs("div",{className:f,children:[d,e]}),b[6]=f,b[7]=d,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("CometMessagingJewelDropdownContent_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"qpWithPinEnabled"},{defaultValue:null,kind:"LocalArgument",name:"shouldShowEBThreadListUpsells"}],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownContent_query",selections:[{condition:"shouldShowEBThreadListUpsells",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"qpWithPinEnabled",variableName:"qpWithPinEnabled"}],kind:"FragmentSpread",name:"MWEncryptedBackupsJewelNuxWrapper_query"}]},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMessagingJewelDropdownQPBannerContainer_viewer"},{args:null,kind:"FragmentSpread",name:"CometMessagingJewelCommunitiesQPBannerContainer_viewer"},{args:null,kind:"FragmentSpread",name:"MWCMBlendedThreadListV2_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainer_viewer",selections:[{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3t4y6p"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMWXCardRendererStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometQuickPromotionMWXCardRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3t4y6p")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerContainer_viewer.graphql","CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e,f=j(9);a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessagingJewelDropdownQPBannerContainer_viewer.graphql"),a);var g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={context_surface_id:8439,context_trigger:"messaging_jewel_open"},f[0]=g):g=f[0];g=c("useQuickPromotionFalcoEvent")(g);if(f[1]!==(a==null?void 0:(e=a.jewel_qp)==null?void 0:e.nodes)){e=a==null?void 0:(e=a.jewel_qp)==null?void 0:(e=e.nodes)==null?void 0:e.find(l);f[1]=a==null?void 0:(a=a.jewel_qp)==null?void 0:a.nodes;f[2]=e}else e=f[2];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;if(a==null)return null;f[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),f[3]=e):e=f[3];var i;f[4]!==a?(i=k.jsx(d("CometRelay").MatchContainer,{match:a}),f[4]=a,f[5]=i):i=f[5];f[6]!==g||f[7]!==i?(a=k.jsx(c("CometPlaceholder.react"),{fallback:e,name:"CometMessagingJewelDropdownQPBannerContainer",children:k.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:g,children:i})}),f[6]=g,f[7]=i,f[8]=a):a=f[8];return a}function l(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("MWInboxContextSwitcherGlimmer.react",["MDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={tabPlaceholder:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",{className:"x78zum5 xu0aao5 x1y1aw1k xwib8y2 x1swvt13 x1pi30zi x3bhodz",children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.tabPlaceholder})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWInboxQuickPromotionWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MWInboxQuickPromotionWrapper.react"));function a(a){var b=i(5),d=a.children;a=a.onError;var e;b[0]!==d?(e=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWInboxQuickPromotionWrapper",children:j.jsx(k,{children:d})}),b[0]=d,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(d=j.jsx(c("CometErrorBoundary.react"),{onError:a,children:e}),b[2]=a,b[3]=e,b[4]=d):d=b[4];return d}g["default"]=a}),98);
__d("MWJewelDropdownHeaderOpenInAppButton.react",["fbt","ix","Actor","FDSTooltip.react","ImageIconSource","MessengerDesktopDeeplinkEventFalcoEvent","TetraCircleButton.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","react","useCurrentDisplayMode","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef;function a(a){var b=a.onClose;a=d("Actor").useActor();a=a[0];var e=m(!1),f=m(c("uuidv4")()).current,g=c("useCurrentDisplayMode")();g=g==="dark";l(function(){e.current||(e.current=!0,c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}))});var j=h._("__JHASH___3DTfSod6m3__JHASH__");a=(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:f,id:a,origin:"FB"}).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();g=g?new(c("ImageIconSource"))(i("2009370"),32,32):new(c("ImageIconSource"))(i("1996477"),32,32);return k.jsx(c("FDSTooltip.react"),{align:"end",tooltip:j,children:k.jsx(c("TetraCircleButton.react"),{color_DEPRECATED:"secondary",icon:g,label:j,linkProps:{url:a},onPress:function(){c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_in_app_button_click",eventLocation:"browser",eventType:"thread",funnelSessionId:f,mobile_app_source:"unknown"}}),b()},size:32,testid:void 0,type_DEPRECATED:"deemphasized"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWJewelSettingsButtonBadge",["cr:4042","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(){var a;a=(a=b("cr:4042")==null?void 0:b("cr:4042")())!=null?a:{};a=a.badge;a=a===void 0?null:a;return{badge:a,onButtonPress:function(){}}}g["default"]=a}),98);
__d("MWJewelDropdownHeader.react",["fbt","ix","CometEntryPointPopoverTrigger.react","CometHomeChatSettings.entrypoint","CometTopNavListDropdownTitle.react","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","MWJewelDropdownHeaderOpenInAppButton.react","MWJewelDropdownHeaderSeeAllButton.react","MWJewelPopoverDialogContext.react","MWPSearchSystem","MessengerDesktopDeepLinkUtils","MessengerWebUXLogger","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","emptyFunction","fbicon","gkx","react","react-forget-runtime","useCometPreloader","useMWChatOpenNewTab","useMWJewelSettingsButtonBadge","useMWNewChatTabContainerPreload","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;b.useCallback;b.useContext;var m=b.c;function n(a){var b=m(13),e=a.onOpenArchivedChats,f=a.onOpenMessageRequests;a=a.onOpenRestrictedAccountsList;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__wPDFO2UUg3d__JHASH__"),b[0]=g):g=b[0];var j=g;g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("MWJewelPopoverDialogContext.react"),o);var k=g.setIsOpenForDialog;g=c("useMWJewelSettingsButtonBadge")();var n=g.badge,p=g.onButtonPress;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[1]=g):g=b[1];e=(e=e)!=null?e:void 0;f=(f=f)!=null?f:void 0;a=(a=a)!=null?a:void 0;var q;b[2]!==e||b[3]!==f||b[4]!==a?(q={onOpenArchivedChats:e,onOpenMessageRequests:f,onOpenRestrictedAccountsList:a},b[2]=e,b[3]=f,b[4]=a,b[5]=q):q=b[5];b[6]!==n||b[7]!==k||b[8]!==p?(e=function(a,b,e,f,g,h){return l.jsxs(c("FDSTooltip.react"),{align:"end",tooltip:j,children:[n,l.jsx(c("TetraCircleButton.react"),{color_DEPRECATED:"secondary",icon:d("fbicon")._(i("484387"),20),label:j,onHoverIn:f,onHoverOut:g,onPress:function(){k(!1),b(),p()},onPressIn:h,ref:a,size:32,testid:void 0,type_DEPRECATED:"deemphasized"})]})},b[6]=n,b[7]=k,b[8]=p,b[9]=e):e=b[9];b[10]!==q||b[11]!==e?(f=l.jsx(c("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:g,otherProps:q,popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:e}),b[10]=q,b[11]=e,b[12]=f):f=b[12];return f}function o(a){return[a.setIsOpenForDialog]}function a(a){var b=m(42),e=a.inboxUrl,f=a.onClose,g=a.onOpenArchivedChats,k=a.onOpenMessageRequests,o=a.onOpenRestrictedAccountsList,p=a.onReturn;a=a.title;var q=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),r=c("useMWChatOpenNewTab")("jewelNewMessage"),s;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(s=c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),b[0]=s):s=b[0];s=s;var t=c("MessengerWebUXLogger").useInteractionLogger(),u;b[1]!==q||b[2]!==r||b[3]!==f||b[4]!==t?(u=function(){q&&(r(!1),f()),t==null?void 0:t({eventName:"create_thread"})},b[1]=q,b[2]=r,b[3]=f,b[4]=t,b[5]=u):u=b[5];u=u;var v=c("useMWNewChatTabContainerPreload")(),w=v[0],x=v[1],y=(j||(j=c("useReStore")))();b[6]!==y?(v=function(){return d("MWPSearchSystem").makeAll(y)},b[6]=y,b[7]=v):v=b[7];v=v;var z=c("useCometPreloader")("button_aggressive",c("emptyFunction"),v),A=z.onHoverInPreloader,B=z.onHoverMovePreloader,C=z.onHoverOutPreloader;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(z=h._("__JHASH__JTlMNMvbiI7__JHASH__"),b[8]=z):z=b[8];z=z;var D=d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEnabled,E=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();D=!c("gkx")("2669")&&D()&&!E;if(D){b[9]!==f?(E=l.jsx(c("MWJewelDropdownHeaderOpenInAppButton.react"),{onClose:f}),b[9]=f,b[10]=E):E=b[10];D=E}else{b[11]!==f||b[12]!==e?(E=l.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:f,testid:void 0,url:e}),b[11]=f,b[12]=e,b[13]=E):E=b[13];D=E}b[14]!==g||b[15]!==k||b[16]!==o?(e=l.jsx(n,{onOpenArchivedChats:g,onOpenMessageRequests:k,onOpenRestrictedAccountsList:o},"mw-jewel-settings"),b[14]=g,b[15]=k,b[16]=o,b[17]=e):e=b[17];E=D;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("fbicon")._(i("507170"),16),b[18]=g):g=b[18];b[19]!==q?(k={preventLocalNavigation:q,url:s},b[19]=q,b[20]=k):k=b[20];b[21]!==w||b[22]!==A?(o=function(a){w(a),A(a)},b[21]=w,b[22]=A,b[23]=o):o=b[23];b[24]!==x||b[25]!==C?(s=function(){x(),C()},b[24]=x,b[25]=C,b[26]=s):s=b[26];b[27]!==k||b[28]!==v||b[29]!==o||b[30]!==B||b[31]!==s||b[32]!==u?(g=l.jsx(c("FDSTooltip.react"),{align:"end",tooltip:z,children:l.jsx(c("TetraCircleButton.react"),{color_DEPRECATED:"secondary",icon:g,label:z,linkProps:k,onFocusIn:v,onHoverIn:o,onHoverMove:B,onHoverOut:s,onPress:u,role:"button",size:32,testid:void 0,type_DEPRECATED:"deemphasized"})},"mw-jewel-new-message"),b[27]=k,b[28]=v,b[29]=o,b[30]=B,b[31]=s,b[32]=u,b[33]=g):g=b[33];b[34]!==e||b[35]!==D||b[36]!==g?(z=[e,E,g].filter(Boolean),b[34]=e,b[35]=D,b[36]=g,b[37]=z):z=b[37];b[38]!==z||b[39]!==p||b[40]!==a?(k=l.jsx(c("CometTopNavListDropdownTitle.react"),{actions:z,onReturn:p,title:a}),b[38]=z,b[39]=p,b[40]=a,b[41]=k):k=b[41];return k}g["default"]=a}),226);
__d("MWJewelNestedFolderThreadListHeader.react",["CometTopNavListDropdownTitle.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d=a.onReturn;a=a.title;var e;b[0]!==d||b[1]!==a?(e=j.jsx(c("CometTopNavListDropdownTitle.react"),{onReturn:d,title:a}),b[0]=d,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWJewelMessageRequestsThread.react",["fbt","ix","FDSIcon.react","I64","LSIntEnum","Locale","MWJewelThreadSnippet.react","MWXListCellStrict.react","ReQL","ReQLSuspense","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=(m||(m=d("react"))).c,o=m;function p(){var a=n(5),b=(j||(j=c("useReStore")))(),e;a[0]!==b.tables.threads||a[1]!==b.tables.contacts?(e=function(){return d("ReQL").fromTableDescending(b.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(-1)).filter(function(a){return(l||(l=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}).map(function(a){a=a.snippetSenderContactId;if(a!=null){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a),f.id+":50");return a?a.name:void 0}})},a[0]=b.tables.threads,a[1]=b.tables.contacts,a[2]=e):e=a[2];var g;a[3]!==b?(g=[b],a[3]=b,a[4]=g):g=a[4];return d("ReQLSuspense").useFirst(e,g,f.id+":35")}function a(a){var b=n(17),e=a.onOpenMessageRequests;a=a.unreadRequestsCount;var f;b[0]!==a?(f=h._("__JHASH__SQMsXxQB2ND__JHASH__",[h._plural(a)]),b[0]=a,b[1]=f):f=b[1];f=f;var g;b[2]!==a?(g=h._("__JHASH__jhOYdnXiHj7__JHASH__",[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]),b[2]=a,b[3]=g):g=b[3];g=g;var j=p();if(j!=null)if(a===1){var k;b[4]!==j?(k=h._("__JHASH__Lhb1JePxKuz__JHASH__",[h._param("name",j)]),b[4]=j,b[5]=k):k=b[5];g=k}else{b[6]!==j||b[7]!==a?(k=h._("__JHASH__CG_5_9rh3Rj__JHASH__",[h._param("name",j),h._param("count",a-1)]),b[6]=j,b[7]=a,b[8]=k):k=b[8];g=k}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(j={addOn:o.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("Locale").isRTL()?d("fbicon")._(i("492485"),16):d("fbicon")._(i("492533"),16)}),type:"body"},a={icon:d("fbicon")._(i("542884"),24),size:56,type:"contained-icon"},b[9]=j,b[10]=a):(j=b[9],a=b[10]);b[11]!==g?(k=o.jsx(c("MWJewelThreadSnippet.react"),{isUnread:!0,text:g}),b[11]=g,b[12]=k):k=b[12];b[13]!==k||b[14]!==f||b[15]!==e?(g=o.jsx(c("MWXListCellStrict.react"),{addOnEnd:j,addOnStart:a,body:k,headline:f,level:4,onPress:e}),b[13]=k,b[14]=f,b[15]=e,b[16]=g):g=b[16];return g}g["default"]=a}),226);
__d("useMWLSJewelLoadMoreThreads",["Int64Hooks","loadMoreLSThreads","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(4),e=(h||(h=c("useReStore")))(),g,i;b[0]!==e||b[1]!==a?(g=function(){return function(){var b=e.runInTransaction(function(b){return c("loadMoreLSThreads")(b,a)},"readwrite",void 0,void 0,f.id+":26");c("promiseDone")(b)}},i=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=i):(g=b[2],i=b[3]);return d("Int64Hooks").useMemoInt64(g,i)}g["default"]=a}),98);
__d("useMWLSLoadThreadFolderIfNotPresent",["CancellablePromise","CancellationToken","I64","Int64Hooks","ReQL","promiseDone","react","useMWLSJewelLoadMoreThreads","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(8),e=(h||(h=c("useReStore")))(),f=c("useMWLSJewelLoadMoreThreads")(a),g;b[0]!==f||b[1]!==e.tables.threads_ranges_v2__generated||b[2]!==a?(g=function(){var b=c("CancellationToken")();c("promiseDone")(d("CancellablePromise").ignoreFailed(void 0,d("CancellablePromise").then_(b,function(a){a==null&&f()},d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads_ranges_v2__generated).filter(function(b){return(i||(i=d("I64"))).equal(b.parentThreadKey,a)})))));return b.cancel},b[0]=f,b[1]=e.tables.threads_ranges_v2__generated,b[2]=a,b[3]=g):g=b[3];var j;b[4]!==f||b[5]!==e||b[6]!==a?(j=[f,e,a],b[4]=f,b[5]=e,b[6]=a,b[7]=j):j=b[7];d("Int64Hooks").useEffectInt64(g,j)}g["default"]=a}),98);
__d("MWLSJewelMessageRequestsThreadContainer.react",["I64","LSIntEnum","MWJewelMessageRequestsThread.react","ReQL","ReQLSuspense","react","useMWLSLoadThreadFolderIfNotPresent","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||(k=d("react"))).c,m=k;function n(){var a=l(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.threads?(e=function(){return d("ReQL").fromTableDescending(b.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(-1)).filter(function(a){return(j||(j=d("I64"))).gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)})},a[0]=b.tables.threads,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useArray(e,g,f.id+":26");return a.length}function a(a){var b=l(4);a=a.onOpenMessageRequests;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(i||(i=d("LSIntEnum"))).ofNumber(-1),b[0]=e):e=b[0];c("useMWLSLoadThreadFolderIfNotPresent")(e);e=n();if(a==null||e===0)return null;var f;b[1]!==a||b[2]!==e?(f=m.jsx(c("MWJewelMessageRequestsThread.react"),{onOpenMessageRequests:a,unreadRequestsCount:e}),b[1]=a,b[2]=e,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[10],void 0)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==void 0?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)||a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))&&!(a[2]&&c.i64.neq(a[7],void 0)&&c.i64.neq(a[4],void 0)&&a[3]&&c.i64.neq(a[6],void 0)&&c.i64.neq(a[5],void 0))?c.sequence([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[6],c.i64.cast([0,0])).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1,syncGroup:c.i64.cast([0,1])}):(b.item,c.forEach(c.filter(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFilteredThreadsRangesQueryStoredProcedure";e.exports=a}),null);
__d("LSFilteredThreadsRangesQueryStoredProcedure",["LSFilteredThreadsRangesQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSFilteredThreadsRangesQuery")(b.parentThreadKey,b.filter,b.isLoadingBefore,b.isLoadingAfter,b.minThreadKey,b.maxThreadKey,b.maxLastActivityTimestampMs,b.minLastActivityTimestampMs,b.numThreads,b.numMessages,b.secondaryFilter,b.filterValue,a)}g["default"]=a}),98);
__d("LSThreadRangeFilter",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,UNREAD_ONLY:1,GROUPS_ONLY:2,IGD_PRO_PRIMARY:3,IGD_PRO_GENERAL:4,PINNED:5,READ_BUT_UNRESPONDED:6,THREAD_CHAT_LABEL:7,BUSINESS_INBOX_FOLLOW_UP:8,FAMILY_AND_FRIENDS:9,CHANNELS:10,IGD_PRO_CHANNELS:11,BUSINESS_FOLDER_DONE:12,BUSINESS_FOLDER_SPAM:13,BUSINESS_FOLDER_FOLLOW_UP:14,BUSINESS_SECONDARY_FILTER:15,FROM_ADS:16,PRIORITY:17,ASSIGNED_ADMIN:18,COMMUNITIES:19,WORKROOMS_ONLY:20,SUBTHREAD:21,CHANNELS_AND_INVITES:22,UNIFIED_BUSINESS_INBOX_IGD:23,UNIFIED_BUSINESS_INBOX_MESSENGER:24,LOCKED:25,BIIM_PRIORITY:26,BIIM_HIGH_INTENT:27,UNIFIED_BUSINESS_INBOX_WA:28,AI_AGENT:29,CTX_AD:30,CHANNELS_INCLUDING_UNJOINED:31,MARKETING_MESSAGES:32,CHANNELS_AND_INVITES_EXCLUDING_COMMUNITIES:33,GUIDANCE_FILTER:34,CHANNELS_INVITES:35});f["default"]=a}),66);
__d("ReQLScrollAnchored.react",["BaseScrollableAreaContext","BaseThemeProvider.react","CometPlaceholder.react","CometSSRSuspendOnServer.react","MWXScrollableAreaStyles","gkx","intersectionObserverEntryIsIntersecting","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var aa=b.useContext,ba=b.useEffect,ca=b.useImperativeHandle,da=b.useLayoutEffect;b.useMemo;var k=b.useRef,ea=b.useState,fa=b.c,ga=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.render=function(){return c.props.children},a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.componentDidUpdate=function(a,b,c){b=a.children;this.props.componentDidUpdate(b,c)};c.getSnapshotBeforeUpdate=function(a){a=a.children;return this.props.getSnapshotBeforeUpdate(a)};return a}(j.PureComponent),l={contentMinHeight:{minHeight:"x1us19tq",$$css:!0},disableScrollAnchoring:{overflowAnchor:"x1xzczws",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowAnchor:"x1xzczws",overflowX:"x6ikm8r",overflowY:"x1odjw0f",position:"x1n2onr6",width:"xh8yej3",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},ha=typeof ResizeObserver!=="undefined";function ia(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function ja(a,b){return a-b.scrollTop>b.clientHeight*2}var ka=5;e=j.forwardRef(a);function a(a,b){var d=fa(97),e=a.hasReachedBottom,f=a.hasReachedTop,g=a.setScrollTopInResetForBottomAnchor,i=a.initialAnchor,m=a.initialRenderComplete,n=a.onReachingBottom,o=a.onReachingTop,p=a.onScroll,q=a.onUserScroll,r=a.renderEmptyContent,s=a.renderFooter,t=a.renderHeader,u=a.renderHeaderContentSpacer,v=a.renderLoadingAnimation,w=a.isSufficientContentLoadedAbove,x=a.isSufficientContentLoadedBelow,y=a.headerStyle,z=a.snapThreshold,A=a.xstyle,B=a.shouldOverscrollBehaviourContain,C=a.elements,D=e===void 0?!0:e,E=f===void 0?!0:f,F=g===void 0?!0:g,G=w===void 0?ia:w,H=x===void 0?ja:x,I=z===void 0?5:z;a=aa(c("BaseScrollableAreaContext"));var J=k();d[0]===Symbol.for("react.memo_cache_sentinel")?(e={getDOMNode:function(){return J==null?void 0:J.current}},d[0]=e):e=d[0];d[1]!==a?(f=[].concat(a,[e]),d[1]=a,d[2]=f):f=d[2];g=f;w=g;var la=k(),K=k();x=ea(i);z=x[0];var L=x[1],M=k(i),N=k(null);d[3]!==H||d[4]!==D||d[5]!==n||d[6]!==G||d[7]!==E||d[8]!==o?(e=function(){var a=J.current,b=K.current;if(a==null||b==null||a.offsetParent===null||b.offsetParent===null)return;b=H(b.clientHeight,a);N.current=a.scrollTop;if(!b&&!D&&n!=null){n();return}b=G(a);N.current=a.scrollTop;!b&&!E&&o!=null&&o()},d[3]=H,d[4]=D,d[5]=n,d[6]=G,d[7]=E,d[8]=o,d[9]=e):e=d[9];var O=e;d[10]!==O||d[11]!==C.length?(a=[O,C.length],d[10]=O,d[11]=C.length,d[12]=a):a=d[12];ba(O,a);d[13]!==I||d[14]!==D?(f=function(a){if(a.scrollHeight===a.clientHeight)return;var b=a.scrollHeight-a.clientHeight-a.scrollTop<I&&D?"bottom":"top";L(M.current=b);N.current=a.scrollTop},d[13]=I,d[14]=D,d[15]=f):f=d[15];var P=f;d[16]!==p?(g=function(){var a=J.current,b=N.current;if(b==null||a==null)return;a.scrollTop!==b&&(a.scrollTop=b,p&&p(a))},d[16]=p,d[17]=g):g=d[17];var Q=g;d[18]!==i||d[19]!==F||d[20]!==p||d[21]!==E||d[22]!==D||d[23]!==I?(x=function(){var a=J.current,b=K.current;if(a==null||b==null)return;i==="bottom"?(F&&(a.scrollTop=a.scrollHeight),p&&p(a)):E||(a.scrollTop=b.offsetTop,p&&p(a));D&&a.scrollHeight-a.clientHeight-a.scrollTop<I?L(M.current="bottom"):L(M.current=i);N.current=a.scrollTop},d[18]=i,d[19]=F,d[20]=p,d[21]=E,d[22]=D,d[23]=I,d[24]=x):x=d[24];var R=x,ma=k(!1);d[25]!==R?(e=function(){if(ma.current)return;R();ma.current=!0},a=[R],d[25]=R,d[26]=e,d[27]=a):(e=d[26],a=d[27]);da(e,a);d[28]!==m||d[29]!==p?(f=function(a){a=a===void 0?!1:a;var b=J.current;if(b==null)return;m&&b.scrollHeight>b.clientHeight&&m();if(M.current==="bottom"){var d=b.scrollTop;b.scrollTop=b.scrollHeight;var e=b.scrollTop;p&&p(b);e-d>0&&a&&c("gkx")("26394")&&(b.animate==null?void 0:b.animate([{transform:"translateY("+(e-d)+"px)"},{transform:"translateY(0)"}],{duration:150,easing:"ease-out",iterations:1}))}N.current=b.scrollTop},d[28]=m,d[29]=p,d[30]=f):f=d[30];var S=f;d[31]!==p||d[32]!==O||d[33]!==P||d[34]!==q?(g=function(){var a=J.current;if(a==null)return;p&&p(a);if(a.scrollTop===N.current)return;N.current=null;O();P(a);q&&q()},d[31]=p,d[32]=O,d[33]=P,d[34]=q,d[35]=g):g=d[35];var T=g;d[36]!==S||d[37]!==O?(x=function(){S(!1),O()},d[36]=S,d[37]=O,d[38]=x):x=d[38];var U=x;d[39]!==S?(e=function(){return S(!0)},d[39]=S,d[40]=e):e=d[40];a=e;var V=c("useResizeObserver")(a),W=c("useResizeObserver")(U);d[41]!==V?(f=function(a){V(a),K.current=a},d[41]=V,d[42]=f):f=d[42];var X=f;d[43]!==W?(g=function(a){W(a),J.current=a},d[43]=W,d[44]=g):g=d[44];var Y=g;d[45]!==p?(x=function(a,b){if(b!=null){a=b.element;var c=b.height;b=b.scrollAreaElement;a=a.clientHeight;N.current=b.scrollTop;a!==c&&!(a<=c&&M.current==="bottom")&&(b.scrollTop=b.scrollTop+(a-c),N.current=b.scrollTop,p&&p(b))}},d[45]=p,d[46]=x):x=d[46];var Z=x;d[47]!==p||d[48]!==D?(e=function(){if(J.current!=null){var a=J.current;a.scrollTop=a.scrollHeight;N.current=a.scrollTop;p&&p(a)}L(M.current=D?"bottom":"top")},d[47]=p,d[48]=D,d[49]=e):e=d[49];var $=e;d[50]===Symbol.for("react.memo_cache_sentinel")?(a=function(){if(J.current!=null){var a=J.current,b=a.scrollHeight-a.scrollTop-a.clientHeight<ka;N.current=a.scrollTop;return b}else return!1},d[50]=a):a=d[50];var na=a,oa=k(null);d[51]===Symbol.for("react.memo_cache_sentinel")?(f=function(a,b){var d=oa.current,e=J.current;if(d!=null&&e!=null){var f=new IntersectionObserver(function(a){a=a[0];(a.boundingClientRect.height!==0||a.boundingClientRect.width!==0)&&b(c("intersectionObserverEntryIsIntersecting")(a))},{root:e,rootMargin:a+"px"});f.observe(d);return function(){return f.disconnect()}}},d[51]=f):f=d[51];var pa=f;d[52]===Symbol.for("react.memo_cache_sentinel")?(g=function(){var a=J.current;if(a!=null){var b=a.scrollHeight-a.clientHeight>0;N.current=a.scrollTop;return b}return!1},d[52]=g):g=d[52];var qa=g;d[53]===Symbol.for("react.memo_cache_sentinel")?(x=function(){var a=J.current;if(a==null)return null;var b={clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,scrollTop:a.scrollTop};N.current=a.scrollTop;return b},d[53]=x):x=d[53];var ra=x;d[54]!==R||d[55]!==Q||d[56]!==$?(e=function(){return{doesContentFillScroll:qa,getScrollAreaElement:function(){return J.current},getScrollerMeasurements:ra,isAtBottom:na,onCloseToBottom:pa,resetScrollPosition:R,restoreScrollPosition:Q,scrollToBottom:$}},a=[qa,pa,R,Q,$],d[54]=R,d[55]=Q,d[56]=$,d[57]=e,d[58]=a):(e=d[57],a=d[58]);ca(b,e,a);d[59]!==E||d[60]!==C?(f=function(a){var b=K.current,c=J.current;if(b!=null&&c!=null&&!(E&&c.scrollTop===0)&&(!a.length||C.length&&a[0].key!==C[0].key&&a.length!==C.length)){a=b.clientHeight;N.current=c.scrollTop;return{element:b,height:a,scrollAreaElement:c}}return null},d[59]=E,d[60]=C,d[61]=f):f=d[61];d[62]!==Z||d[63]!==f||d[64]!==C?(g=j.jsx(ga,{componentDidUpdate:Z,getSnapshotBeforeUpdate:f,children:C}),d[62]=Z,d[63]=f,d[64]=C,d[65]=g):g=d[65];x=g;var sa=x;d[66]!==A?(b=(h||(h=c("stylex")))(A),d[66]=A,d[67]=b):b=d[67];e=z==="bottom"&&l.disableScrollAnchoring;d[68]!==e?(a=(h||(h=c("stylex")))(l.wrapper,e),d[68]=e,d[69]=a):a=d[69];d[70]!==B||d[71]!==T||d[72]!==Y||d[73]!==U||d[74]!==Z||d[75]!==y||d[76]!==E||d[77]!==t||d[78]!==v||d[79]!==C.length||d[80]!==r||d[81]!==u||d[82]!==D||d[83]!==X||d[84]!==S||d[85]!==sa||d[86]!==s?(f=j.jsx(c("BaseThemeProvider.react"),{children:function(a,b){return j.jsxs("div",{className:(h||(h=c("stylex")))(l.scrollArea,B===!0&&l.overscrollBehaviorContain,c("MWXScrollableAreaStyles").themed,a),"data-testid":void 0,onScroll:T,ref:Y,style:b,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.ScrollArea",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!ha&&j.jsx("iframe",{className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=U)}})})}),j.jsxs(ga,{componentDidUpdate:Z,getSnapshotBeforeUpdate:function(){var a=la.current,b=J.current;if(a!=null&&b!=null){N.current=b.scrollTop;if(N.current!==0){var c=a.clientHeight;return{element:a,height:c,scrollAreaElement:b}}}return null},children:[j.jsx("div",{className:h(y),ref:la,children:E?t&&t():v&&v("onTop",C.length)}),r!=null?r():null]}),u!=null&&u(),j.jsx("div",{className:h(C.length!==0&&!E&&!D&&l.contentMinHeight),children:j.jsxs("div",{className:"x1n2onr6",ref:X,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.elementsHOC",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!ha&&j.jsx("iframe",{className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=S)}})})}),sa,j.jsx("div",{className:"x1ey2m1c xjm9jq1 x1y332i5 x47corl x10l6tqk",ref:oa}),D?s&&s():v&&v("onBottom",C.length)]})})]})}}),d[70]=B,d[71]=T,d[72]=Y,d[73]=U,d[74]=Z,d[75]=y,d[76]=E,d[77]=t,d[78]=v,d[79]=C.length,d[80]=r,d[81]=u,d[82]=D,d[83]=X,d[84]=S,d[85]=sa,d[86]=s,d[87]=f):f=d[87];d[88]!==a||d[89]!==f?(g=j.jsx("div",{className:a,children:f}),d[88]=a,d[89]=f,d[90]=g):g=d[90];d[91]!==b||d[92]!==g?(x=j.jsx("div",{className:b,children:g}),d[91]=b,d[92]=g,d[93]=x):x=d[93];d[94]!==w||d[95]!==x?(A=j.jsx(c("BaseScrollableAreaContext").Provider,{value:w,children:x}),d[94]=w,d[95]=x,d[96]=A):A=d[96];return A}f=e;g.default=f}),98);
__d("useStableValue",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useRef;function a(a){return k(a,(i||(i=d("I64"))).equal)}function k(a,b){var c=j(a);b(c.current,a)||(c.current=a);return c.current}g.useStableI64=a;g.useStableValue=k}),98);
__d("useStableBounds",["deepEquals","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("useStableValue").useStableValue(a,c("deepEquals"))}g["default"]=a}),98);
__d("ReQLPaginatedList.react",["FBLogger","I64","PromiseOrValue","ReQL","ReQLScrollAnchored.react","ReQLSuspense","SortedAsyncIterable","deepEquals","gkx","justknobx","promiseDone","react","useMergeRefs","useStableBounds","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useCallback,m=b.useEffect,aa=b.useLayoutEffect,n=b.useMemo,o=b.useRef,p=b.useState,q=b.useTransition;function r(a,b){return b==null?a:a.bounds(b)}function s(a){if(a instanceof Promise)throw a;return a}function t(a){return{direction:a.direction,iterator:function(b,c){var e=a.iterator(b,c);return{next:function(a){return(i||(i=d("PromiseOrValue"))).map(e.next(a),function(a){return a.done?a:{done:!1,value:[a.value[0],a.value]}})}}},keyLength:a.keyLength,subscribe:function(b,c){return a.subscribe(async function(a,c,d){c.operation==="delete"?await b(a,c,d):c.operation==="add"?await b(a,{operation:"add",value:[a,c.value]},d):c.operation==="put"&&await b(a,{operation:"put",value:[a,c.value]},d)},c)}}}function ba(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function a(a){var b=a.bounds,e=a.direction,g=e===void 0?"asc":e;e=a.hasReachedBottom;var h=e===void 0?!0:e;e=a.hasReachedTop;var i=e===void 0?!0:e;e=a.imperativeRef;var j=a.initialAnchor,da=a.initialRenderComplete,u=a.onPageLoaded,v=a.onReachingBottom,w=a.onReachingTop,ea=a.onScroll,fa=a.onUserScroll,x=a.pageSize,y=x===void 0?15:x;x=a.renderEmptyContent;var z=a.renderFooter,ga=a.renderHeader,ha=a.renderHeaderContentSpacer,A=a.renderItem,ia=a.renderLoadingAnimation,ja=a.headerStyle,B=a.isSufficientContentLoadedAbove;B=B===void 0?ba:B;var ka=a.isSufficientContentLoadedBelow,C=a.snapThreshold;C=C===void 0?5:C;var D=a.setScrollTopInResetForBottomAnchor;D=D===void 0?!0:D;var E=a.data,F=E.ascending,G=E.descending;E=a.xstyle;var H=a.isLogDuplicatedItemEnabled;H=H===void 0?!1:H;a=a.shouldOverscrollBehaviourContain;var I=q();I[0];var J=I[1],K=c("useStableBounds")(b);if(j!=null&&j!=="top"&&j!=="bottom"){I=r(G,K).bounds({lt:j}).iterator(new WeakMap()).next();if(I instanceof Promise)throw I;j=I.done?"top":I.value[0]}var L=d("useStableValue").useStableValue(j,c("deepEquals")),M=n(function(){var a,b;L==="top"||L==null?(a=d("ReQL").empty(),b=g==="asc"?F:G):L==="bottom"?(a=g==="asc"?G:F,b=d("ReQL").empty()):(a=g==="asc"?G.bounds({lt:L}):F.bounds({gt:L}),b=g==="asc"?F.bounds({gte:L}):G.bounds({lte:L}));return{after:b,before:a}},[L,F,G,g]),N=o(!1),O=n(function(){var a=s(d("SortedAsyncIterable").toArray(r(M.before,K).take(L==="bottom"?y:0),f.id+":204")).reverse(),b=s(d("SortedAsyncIterable").toArray(r(M.after,K).take(y),f.id+":211")),c=L==="bottom"?!0:b.length<y,e=L==="top"||L==null?!0:L==="bottom"?a.length<y:!1;return{firstKey:e?void 0:L==="bottom"?(e=a[0])==null?void 0:e[0]:(a=b[0])==null?void 0:a[0],lastKey:c?void 0:(e=b[b.length-1])==null?void 0:e[0]}},[L,K,M.after,M.before,y]);b=p(function(){return{anchor:L,iterables:M,values:O}});I=b[0];var P=b[1];j=I.iterables===M&&I.anchor===L;b=j?I.values:O;var Q=b.firstKey,R=b.lastKey,S=d("ReQLSuspense").useArray(function(){return t(Q==null?r(M.before,K).take(y):r(M.before,K).bounds(g==="asc"?{gte:Q}:{lte:Q}))},[K,g,Q,M.before,y],f.id+":246"),T=n(function(){return[].concat(S).reverse()},[S]);m(function(){T.length===y&&Q==null&&J(function(){return P({anchor:L,iterables:M,values:{firstKey:T[0][0],lastKey:R}})})},[T,Q,L,M,R,y]);var U=d("ReQLSuspense").useArray(function(){return t(R==null?r(M.after,K).take(y):r(M.after,K).bounds(g==="asc"?{lte:R}:{gte:R}))},[K,g,M.after,R,y],f.id+":273");m(function(){U.length===y&&R==null&&J(function(){return P({anchor:L,iterables:M,values:{firstKey:Q,lastKey:U[U.length-1][0]}})})},[U,Q,L,M,R,y]);var V=n(function(){return[].concat(T,U)},[T,U]),W=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():r(M.before,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]})},[V,K,g,M.before],f.id+":300")==null,X=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():r(M.after,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]})},[V,K,g,M.after],f.id+":310")==null;j=q();var Y=j[0],la=j[1];I=l(function(){if(N.current||Y)return;if(X){if(!h&&v!=null)return v()}else{N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?F:G,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]}).take(y),f.id+":337")),function(a){N.current=!1,u!=null&&u("bottom",V[V.length-1][1],a.map(function(a){return a[1]})),la(function(){var b;return P({anchor:L,iterables:M,values:{firstKey:Q,lastKey:(b=(b=a[a.length-1])==null?void 0:b[0])!=null?b:V[V.length-1][0]}})})});return}},[Y,X,h,v,g,F,G,K,V,y,u,Q,M,L]);b=q();var ma=b[0],na=b[1],oa=o(!0);j=l(function(){if(N.current||ma)return;if(W){if(!i)return w==null?void 0:w();return}N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?G:F,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]}).take(y),f.id+":409")),function(a){N.current=!1,u!=null&&(oa.current?(oa.current=!1,u("top",null,V.slice(0,y).map(function(a){return a[1]}).reverse())):u("top",V[0][1],a.map(function(a){return a[1]}))),a.reverse(),na(function(){var b;return P({anchor:L,iterables:M,values:{firstKey:(b=(b=a[0])==null?void 0:b[0])!=null?b:V[0][0],lastKey:R}})})})},[ma,W,i,w,g,G,F,K,V,y,u,R,M,L]);var Z=W&&i?0:1,$=V.length-(X&&h?0:1);b=n(function(){var a=new Array($>Z?$-Z:0);for(var b=Z;b<$;b++){var d;a[b-Z]=A(V[b][1],{nextItem:(d=V[b+1])==null?void 0:d[1],previousItem:(d=V[b-1])==null?void 0:d[1]},c("gkx")("7810")?$-Z-b:0)}return a},[V,Z,A,$]);var pa=o(null);e=c("useMergeRefs")(pa,e);aa(function(){var a;(a=pa.current)==null?void 0:a.resetScrollPosition()},[L]);var qa=l(function(){return z==null?void 0:z(V.length>0?V[V.length-1][1]:void 0)},[V,z]);ca(H,V);return k.jsx(c("ReQLScrollAnchored.react"),{elements:b,hasReachedBottom:X&&h,hasReachedTop:W&&i,headerStyle:ja,initialAnchor:L==="bottom"?"bottom":"top",initialRenderComplete:da,isSufficientContentLoadedAbove:B,isSufficientContentLoadedBelow:ka,onReachingBottom:I,onReachingTop:j,onScroll:ea,onUserScroll:fa,pageSize:y,ref:e,renderEmptyContent:x,renderFooter:qa,renderHeader:ga,renderHeaderContentSpacer:ha,renderLoadingAnimation:ia,setScrollTopInResetForBottomAnchor:D,shouldOverscrollBehaviourContain:a,snapThreshold:C,xstyle:E})}a.displayName=a.name+" [from "+f.id+"]";function ca(a,b){var e=p(!1),f=e[0],g=e[1];m(function(){try{if(!c("justknobx")._("1789"))return;if(a&&!f){var e=new Set(),h=[];for(var i of b){var k=i[1];if(typeof k==="object"&&(k==null?void 0:k.threadKey)!=null&&(j||(j=d("I64"))).isI64(k==null?void 0:k.threadKey)){k=(j||(j=d("I64"))).to_string(k==null?void 0:k.threadKey);e.has(k)&&h.push(k);e.add(k)}}e.size!==b.length&&(g(!0),c("FBLogger")("messenger_e2ee_web").warn("Duplicated thread item detected in ReQLPaginatedList %s",h.join(",")))}}catch(a){c("FBLogger")("messenger_e2ee_web").warn("Duplicated thread item error",a)}},[b,f,a])}g.default=a}),98);
__d("ReQLPaginatedList.shared",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{ascending:a,descending:b}}f.fromIterables=a}),66);
__d("useMWCMMarkBumpedThreadsSeen",["Int64Hooks","asyncToGeneratorRuntime","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=c("requireDeferred")("MWCMMarkBumpedThreadsSeen").__setRef("useMWCMMarkBumpedThreadsSeen");function a(a){var c=i(3),e,g;c[0]!==a?(e=function(){return{load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield j.load());return function(c){return b.MWCMMarkBumpedThreadsSeen(a,c)}});function d(){return c.apply(this,arguments)}return d}()}},g=[a],c[0]=a,c[1]=e,c[2]=g):(e=c[1],g=c[2]);return d("Int64Hooks").useMemoInt64(e,g)}g["default"]=a}),98);
__d("useMarkSeenWhenVisible",["CometDebounce","Int64Hooks","Promise","ReQL","UserActivity","asyncToGeneratorRuntime","promiseDone","react","useMWCMMarkBumpedThreadsSeen","useMWPMarkSeen","useMWPWatchFolderFocusChanges","useReStore","useSimpleImpression","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useRef;function a(a){var e=(i||(i=c("useReStore")))(),g=l(!1),j=c("useMWCMMarkBumpedThreadsSeen")(a),m=c("useVisibilityObserver")({onHidden:function(){g.current=!1},onVisible:function(){g.current=!0}}),n=c("useMWPMarkSeen")(a),o=c("CometDebounce")(k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([n.load(),j.load()])),c=a[0],d=a[1];yield e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c(a),yield d(a)});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":56")})())},[n,j,e]),{leading:!0,wait:500});c("useMWPWatchFolderFocusChanges")(o,g);c("useSimpleImpression")(o);d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableDescending(e.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),[]).getKeyRange(a).take(1).subscribe(function(){c("UserActivity").isOnTab()&&g.current===!0&&o()})},[e,a,o]);return m}g["default"]=a}),98);
__d("MWPBaseThreadList.react",["Box.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFilteredThreadsRangesQueryStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","LSThreadsRangesQueryStoredProcedure","MAWIsIDBOperational","MAWMaybeWithTimeout","MWThreadListFocusableTable.react","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","asyncToGeneratorRuntime","gkx","isCommunityContainersEnabled","isMWXacGroupThread","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwIsThreadDisabled","promiseDone","react","useMarkSeenWhenVisible","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;e.useCallback;var m=e.useEffect,n=e.c,o={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},emptyContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},p=1e4;function q(a,e,g,h){h===void 0&&(h=!1),void d("MAWMaybeWithTimeout").maybeWithTimeout(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.threads_ranges_v2__generated).get.apply(b,e));if(b==null||b.isLoadingBefore)return;g&&g();return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(j||(j=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:b.maxLastActivityTimestampMs,maxThreadKey:b.maxThreadKey,minLastActivityTimestampMs:b.minLastActivityTimestampMs,minThreadKey:b.minThreadKey,parentThreadKey:b.parentThreadKey,shouldSkipE2eeThreadsRanges:h})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":112"),p,function(){c("FBLogger")("maw_threads").warn("Paginated threads load took longer than "+p/1e3+" seconds.\n        parent_thread_key: "+(j||(j=d("I64"))).to_string(e[0])+"\n        min_thread_key: "+j.to_string(e[1])+"\n        min_last_activity_timestamp_ms: "+j.to_string(e[2]))})}function r(a,e,g,h,i){g===void 0&&(g=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),h===void 0&&(h=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),void d("MAWMaybeWithTimeout").maybeWithTimeout(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.filtered_threads_ranges_v3__generated).get.apply(b,e));if(b==null||b.isLoadingBefore)return;i&&i();return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:g,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:b.maxLastActivityTimestampMs,maxThreadKey:b.maxThreadKey,minLastActivityTimestampMs:b.minLastActivityTimestampMs,minThreadKey:b.minThreadKey,parentThreadKey:b.parentThreadKey,secondaryFilter:h})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":173"),p,function(){c("FBLogger")("maw_threads").warn("Filtered paginated threads load took longer than "+p/1e3+" seconds.\n        parent_thread_key: "+(j||(j=d("I64"))).to_string(e[0])+"\n        min_thread_key: "+j.to_string(e[1])+"\n        min_last_activity_timestamp_ms: "+j.to_string(e[2])+"\n        thread_range_filter: "+j.to_string(e[3])+"\n        secondary_thread_range_filter: "+j.to_string(e[5]))})}function s(a,b,e,f,g,h){e===void 0&&(e=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE));h===void 0&&(h=!1);if(b==null)return;if(!b.threadRangeFilter){var i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs];q(a,i,g,h)}else{i=[b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs,b.threadRangeFilter,b.folderName,b.secondaryThreadRangeFilter,b.threadRangeFilterValue];r(a,i,e,f,g)}}function t(a,e,g,h,i,l){l===void 0&&(l=!1),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(1))));b!=null&&(j||(j=d("I64"))).equal(b.syncStatus,(k||(k=d("LSIntEnum"))).ofNumber(2))&&(yield a.runInTransaction(function(a){i==null?void 0:i();if(g==null)return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(j||(j=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:j.max_int,maxThreadKey:j.max_int,minLastActivityTimestampMs:j.max_int,minThreadKey:j.max_int,parentThreadKey:e,shouldSkipE2eeThreadsRanges:l});else return c("LSFilteredThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{filter:g,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:(j||(j=d("I64"))).max_int,maxThreadKey:j.max_int,minLastActivityTimestampMs:j.max_int,minThreadKey:j.max_int,parentThreadKey:e,secondaryFilter:h})},"readwrite","ui",void 0,f.id+":289"))})())}function u(a,b,c,e){var g=n(11),h,i;g[0]!==c||g[1]!==a||g[2]!==b?(h=function(){return c==null?d("ReQL").fromTableDescending(a.tables.threads_ranges_v2__generated).getKeyRange(b):d("ReQL").empty()},i=[a,c,b],g[0]=c,g[1]=a,g[2]=b,g[3]=h,g[4]=i):(h=g[3],i=g[4]);h=d("ReQLSuspense").useFirst(h,i,f.id+":335");var k;g[5]!==c||g[6]!==a||g[7]!==b||g[8]!==e?(i=function(){return c==null?d("ReQL").empty():d("ReQL").fromTableDescending(a.tables.filtered_threads_ranges_v3__generated).getKeyRange(b).filter(function(a){return(j||(j=d("I64"))).equal(a.threadRangeFilter,c)&&(!e||(j||(j=d("I64"))).equal(a.secondaryThreadRangeFilter,e))})},k=[a,c,b,e],g[5]=c,g[6]=a,g[7]=b,g[8]=e,g[9]=i,g[10]=k):(i=g[9],k=g[10]);g=d("ReQLSuspense").useFirst(i,k,f.id+":342");return c==null?h:g}function a(a){var b=n(83),e=a.afterContent,g=a.beforeContent,i=a.containerStyle,p=a.customThreadFilter_DO_NOT_USE,q=a.emptyContent,r=a.filter,v=a.gridLabel,w=a.imperativeRef,x=a.isSufficientContentLoadedBelow,y=a.loadMoreThreads,z=a.loadMoreThreadsForEmptyRange,A=a.onLoadMoreThreads,B=a.onReachingTop,C=a.onScroll,D=a.onThreadsLoaded,E=a.pageSize,F=a.parentThreadKey,G=a.renderItem,H=a.renderLoadingAnimation,I=a.role,J=a.secondaryFilter,K=a.setIsEmptyInbox;a=a.shouldSkipE2eeThreadsRanges;var L=y===void 0?s:y,M=z===void 0?t:z;y=I===void 0?"grid":I;var N=a===void 0?!1:a,O=d("MAWIsIDBOperational").useIsIDBOperational(),P=(h||(h=c("useReStore")))(),Q=u(P,F,r,J);z=c("MetaConfig")._("44");Q!=null&&!Q.isLoadingBefore&&(D&&D());b[0]!==Q?(I=Q!=null?(j||(j=d("I64"))).equal(Q.minLastActivityTimestampMs,(j||(j=d("I64"))).zero)||(j||(j=d("I64"))).equal(Q.minLastActivityTimestampMs,(j||(j=d("I64"))).one)||(z?(j||(j=d("I64"))).equal(Q.minLastActivityTimestampMs,(j||(j=d("I64"))).max_int):!1)?null:Q.minLastActivityTimestampMs:null,b[0]=Q,b[1]=I):I=b[1];var R=I;b[2]!==Q?(a=Q!=null?(j||(j=d("I64"))).equal(Q.maxLastActivityTimestampMs,(j||(j=d("I64"))).zero)||(j||(j=d("I64"))).equal(Q.maxLastActivityTimestampMs,(j||(j=d("I64"))).one)?null:Q.maxLastActivityTimestampMs:null,b[2]=Q,b[3]=a):a=b[3];var S=a;b[4]!==R||b[5]!==S?(D=function(){var a;return{gte:d("ReQL").key((a=R)!=null?a:(j||(j=d("I64"))).min_int),lte:d("ReQL").key((a=S)!=null?a:(j||(j=d("I64"))).max_int)}},z=[S,R],b[4]=R,b[5]=S,b[6]=D,b[7]=z):(D=b[6],z=b[7]);var T=d("Int64Hooks").useMemoInt64(D,z);b[8]!==P.tables.threads||b[9]!==P.tables.community_folders||b[10]!==F||b[11]!==O||b[12]!==p?(I=function(){var a,b=(a=d("ReQL")).fromTableDescending(P.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(F),e=a.fromTableDescending(P.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(F);b=a.union(b,e).map(function(a){if(!c("mwCMIsThreadBumped")(a))return{hideFromThreadlist:!1,thread:a};var b=c("gkx")("23433"),e=c("isCommunityContainersEnabled")();if(b&&e){if((j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(18)))return{hideFromThreadlist:!0,thread:a}}else if((j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17)))return{hideFromThreadlist:!0,thread:a};b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(P.tables.community_folders,["isHidden","takedownState"]).getKeyRange((j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17))?a.threadKey:a.parentThreadKey),f.id+":494");e=(b==null?void 0:b.takedownState)!=null?(j||(j=d("I64"))).equal(b.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(1)):!1;b=(b==null?void 0:b.isHidden)===!0;b=b||e;return{hideFromThreadlist:b,thread:a}}).filter(function(a){var b=a.hideFromThreadlist,e=a.thread;if(b)return!1;a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType);return(!a||O)&&(c("mwCMIsAnyCMThread")(e.threadType)?!c("mwIsThreadDisabled")(e.takedownState):!0)&&c("MWThreadListSupportedThreadTypes").findIndex(function(a){return(j||(j=d("I64"))).equal(e.threadType,a)})!==-1&&(k||(k=d("LSIntEnum"))).toNumber(e.authorityLevel)>c("LSAuthorityLevel").CLIENT_PARTIAL&&(d("MWXacGating").isGroupsEnabled()||!c("isMWXacGroupThread")(e))&&(!p||p(e))}).map(function(a){a=a.thread;return a});return d("ReQLPaginatedList.shared").fromIterables(a.empty(),b)},b[8]=P.tables.threads,b[9]=P.tables.community_folders,b[10]=F,b[11]=O,b[12]=p,b[13]=I):I=b[13];b[14]!==P||b[15]!==O||b[16]!==F||b[17]!==p?(a=[P,O,F,p],b[14]=P,b[15]=O,b[16]=F,b[17]=p,b[18]=a):a=b[18];var U=d("Int64Hooks").useMemoInt64(I,a);b[19]!==U.descending||b[20]!==T?(D=function(){return U.descending.bounds(T)},b[19]=U.descending,b[20]=T,b[21]=D):D=b[21];b[22]!==T||b[23]!==U?(z=[T,U],b[22]=T,b[23]=U,b[24]=z):z=b[24];var V=d("ReQLSuspense").useFirst(D,z,f.id+":561")==null;b[25]!==K||b[26]!==V?(I=function(){K&&K(V)},a=[V,K],b[25]=K,b[26]=V,b[27]=I,b[28]=a):(I=b[27],a=b[28]);m(I,a);b[29]!==Q||b[30]!==M||b[31]!==P||b[32]!==F||b[33]!==r||b[34]!==J||b[35]!==A?(D=function(){Q==null&&M(P,F,r,J,A)},z=[F,Q,P,r,J,A,M],b[29]=Q,b[30]=M,b[31]=P,b[32]=F,b[33]=r,b[34]=J,b[35]=A,b[36]=D,b[37]=z):(D=b[36],z=b[37]);d("Int64Hooks").useEffectInt64(D,z);I=c("useMarkSeenWhenVisible")(F);b[38]!==L||b[39]!==P||b[40]!==Q||b[41]!==r||b[42]!==J||b[43]!==A||b[44]!==N?(a=function(){L(P,Q,r,J,A,N)},b[38]=L,b[39]=P,b[40]=Q,b[41]=r,b[42]=J,b[43]=A,b[44]=N,b[45]=a):a=b[45];D=a;b[46]!==G?(z=function(a){return l.jsx(l.Fragment,{children:G(a)},(j||(j=d("I64"))).to_string(a.threadKey))},b[46]=G,b[47]=z):z=b[47];a=z;if(Q==null){b[48]!==H?(z=H!=null?H("nullState",0):null,b[48]=H,b[49]=z):z=b[49];return z}b[50]!==i?(z=[o.container,i],b[50]=i,b[51]=z):z=b[51];i=!Q.hasMoreBefore;var W=!Q.hasMoreAfter,X;b[52]!==V||b[53]!==Q.isLoadingAfter||b[54]!==Q.isLoadingBefore||b[55]!==q?(X=function(){return V&&!Q.isLoadingAfter&&!Q.isLoadingBefore?l.jsx(c("Box.react"),{xstyle:o.emptyContentContainer,children:q}):null},b[52]=V,b[53]=Q.isLoadingAfter,b[54]=Q.isLoadingBefore,b[55]=q,b[56]=X):X=b[56];var Y;b[57]!==e?(Y=function(){return e},b[57]=e,b[58]=Y):Y=b[58];var Z;b[59]!==g?(Z=function(){return g},b[59]=g,b[60]=Z):Z=b[60];var $;b[61]!==T||b[62]!==U||b[63]!==i||b[64]!==W||b[65]!==w||b[66]!==x||b[67]!==D||b[68]!==B||b[69]!==C||b[70]!==E||b[71]!==X||b[72]!==Y||b[73]!==Z||b[74]!==a||b[75]!==H?($=l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:l.jsx(c("ReQLPaginatedList.react"),{bounds:T,data:U,direction:"desc",hasReachedBottom:i,hasReachedTop:W,imperativeRef:w,isLogDuplicatedItemEnabled:!0,isSufficientContentLoadedBelow:x,onReachingBottom:D,onReachingTop:B,onScroll:C,pageSize:E,renderEmptyContent:X,renderFooter:Y,renderHeader:Z,renderItem:a,renderLoadingAnimation:H,shouldOverscrollBehaviourContain:c("gkx")("8503"),xstyle:o.list})}),b[61]=T,b[62]=U,b[63]=i,b[64]=W,b[65]=w,b[66]=x,b[67]=D,b[68]=B,b[69]=C,b[70]=E,b[71]=X,b[72]=Y,b[73]=Z,b[74]=a,b[75]=H,b[76]=$):$=b[76];b[77]!==v||b[78]!==I||b[79]!==y||b[80]!==z||b[81]!==$?(i=l.jsx(c("Box.react"),{"aria-label":v,"data-testid":void 0,ref:I,role:y,xstyle:z,children:$}),b[77]=v,b[78]=I,b[79]=y,b[80]=z,b[81]=$,b[82]=i):i=b[82];return i}g["default"]=a}),98);
__d("MWPParentThreadKeyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("FBGroupChatInviteState",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCEPTED:1,ACTIVE:2,DECLINED_BY_RECEIVER:3,IGNORED_BY_RECEIVER:4,DELETED_BY_SENDER:5,DISCARDED:6});f["default"]=a}),66);
__d("LSOptimisticUpdateHasPendingJoinRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.forEach(b.filter(b.db.table(9).fetch(),function(c){return c.needsAdminApprovalForNewParticipant===!0&&b.i64.eq(c.threadKey,a[0])}),function(d){var e=d.item;return b.sequence([function(d){return a[1]?b.sequence([function(a){return b.localizeV2Async(b.i64.cast([0,3199643703]),void 0).then(function(a){return c[2]=a})},function(a){return c[0]=c[2]}]):b.sequence([function(a){return b.localizeV2Async(b.i64.cast([0,1531706844]),void 0).then(function(a){return c[2]=a})},function(a){return c[0]=c[2]}])},function(d){return c[1]=e.lastReadWatermarkTimestampMs,b.forEach(b.db.table(9).fetch([[[e.threadKey]]]),function(b){var d=b.update;b.item;return d({hasPendingJoinRequest:a[1],snippet:c[0],lastReadWatermarkTimestampMs:c[1]})})}])})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxOptimisticUpdateHasPendingJoinRequestStoredProcedure";e.exports=a}),null);
__d("LSUpdateCommunityChannelJoiningTaskID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(162).fetch([[[a[0]]],"byFbGroupId"],[[[a[0]]]]),function(c){return b.i64.eq(c.fbGroupId,a[0])||b.i64.eq(c.communityType,b.i64.cast([0,1]))&&b.i64.eq(c.folderId,a[0])}),function(b){var c=b.update;b.item;return c({joiningChannelTaskId:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateCommunityChannelJoiningTaskIDStoredProcedure";e.exports=a}),null);
__d("LSUpdateCommunityChannelDirectInvite",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSOptimisticUpdateHasPendingJoinRequest","LSUpdateCommunityChannelJoiningTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.i64.eq(a[1],c.i64.cast([0,1]))&&!1!==void 0&&!1?c.storedProcedure(b("LSOptimisticUpdateHasPendingJoinRequest"),a[0],!0):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[11]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[12]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[11],d[12],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("channel_id",a[0]),d[2].set("state",a[1]),d[2].set("is_request_to_join",!1!==void 0&&!1),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[11],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("channel_id"),d[2],d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["community_channel_invitation","_",c.i64.to_string(d[4])].join(""),c.i64.cast([0,463]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[7]=c.i64.cast([-1,4294967295]):(b=a.item,d[7]=b.parentThreadKey)})},function(a){return c.db.table(162).fetch([[[d[7]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.fbGroupId)})},function(e){return c.i64.eq(a[1],c.i64.cast([0,1]))?c.storedProcedure(b("LSUpdateCommunityChannelJoiningTaskID"),d[9],d[6]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateCommunityChannelDirectInviteStoredProcedure";e.exports=a}),null);
__d("LSUpdateCommunityChannelDirectInviteStoredProcedure",["LSUpdateCommunityChannelDirectInvite","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSUpdateCommunityChannelDirectInvite")(b.channelId,b.state,a)}g["default"]=a}),98);
__d("MWPThreadListItemInviteAddOn.react",["fbt","MWPBumpEntityKey","MWXCircleButton.react","MWXIconCheckmark","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__ThY36iiMiSm__JHASH__"),m=h._("__JHASH__IQ1-ytNyqLB__JHASH__");function a(a){var b=j(7),e=a.onAccept,f=a.onDecline;b[0]!==e?(a=k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCheckmark"),label:l,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.accept"),e(a)},size:32})}),b[0]=e,b[1]=a):a=b[1];var g;b[2]!==f?(g=k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:m,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.decline"),f(a)},size:32})}),b[2]=f,b[3]=g):g=b[3];var h;b[4]!==a||b[5]!==g?(h=k.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[a,g]}),b[4]=a,b[5]=g,b[6]=h):h=b[6];return h}g["default"]=a}),226);
__d("MWXIconPauseChat",["MWXSvgIcon","SVGIcon","cr:12515","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12515")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadAddOnSecondary.react",["fbt","ARIA_LABEL_PLACEHOLDER_FIXME","CometOverlappingFacepile.react","CurrentEnvironment","FDSBadge.react","I64","MWPActor.react","MWPIsThreadUnread","MWXIconBellCross","MWXIconPauseChat","MWXIconStrict.react","MWXPressable.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","isArmadillo","react","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.memo;var m=b.c;function n(a){var b=m(19),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),h;b[0]!==e.tables.threads||b[1]!==a?(h=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadKey","lastActivityTimestampMs"]).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=h):h=b[2];var k;b[3]!==e||b[4]!==a?(k=[e,a],b[3]=e,b[4]=a,b[5]=k):k=b[5];var l=d("ReQLSuspense").useFirst(h,k,f.id+":55"),n=c("useMWIsReadReceiptsDisabledForThread")(a);b[6]!==n||b[7]!==l||b[8]!==e.tables.participants||b[9]!==e.tables.contacts||b[10]!==g?(h=function(){if(n||l==null)return d("ReQL").empty();else return d("ReQL").fromTableAscending(e.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(l.threadKey).bounds({gte:d("ReQL").key(l.lastActivityTimestampMs)}).filter(function(a){a=a.contactId;return!(j||(j=d("I64"))).equal(a,g)}).take(3).map(function(a){a=a.contactId;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.contacts,["name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a),f.id+":85");return a!=null?{alt:a.name,source:{uri:c("getLSMediaContactProfilePictureUrl")(a)}}:null})},b[6]=n,b[7]=l,b[8]=e.tables.participants,b[9]=e.tables.contacts,b[10]=g,b[11]=h):h=b[11];b[12]!==e||b[13]!==g||b[14]!==l||b[15]!==n?(k=[e,g,l,n],b[12]=e,b[13]=g,b[14]=l,b[15]=n,b[16]=k):k=b[16];h=d("ReQLSuspense").useArray(h,k,f.id+":66");b[17]!==h?(k=h.filter(Boolean),b[17]=h,b[18]=k):k=b[18];return k}function a(a){var b=m(4),e=a.entryPoint,f=a.isMuted,g=a.isPaused,i=a.isViewerSender,j=a.lastMessageDeliveryStatusIcon;a=a.thread;var k=c("useMWLSMarkThreadAsRead")(e);e=n(a.threadKey);var p=[];g&&p.push(l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconPauseChat"),size:16}));f&&p.push(l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconBellCross"),size:16}));g=d("MWPIsThreadUnread").useIsThreadUnread(a.threadKey);g?p.push(l.jsx(c("MWXPressable.react"),{"aria-hidden":!0,expanding:!0,focusable:!1,onPress:function(a){return k()},testid:void 0,children:l.jsx(c("FDSBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),color:"blue",isProfileBadge:!0,size:c("isArmadillo")()&&c("CurrentEnvironment").messengerdotcom?10:12})})):i&&(e.length===0?j&&p.push(j):p.push(l.jsx(c("CometOverlappingFacepile.react"),{count:e.length,isTextInline:!0,items:e,screenReaderLabel:e.length===1?h._("__JHASH__2MhSP-AMGlO__JHASH__",[h._param("=personName",e[0].alt)]):h._("__JHASH__jJBaERf_iKB__JHASH__",[h._param("=numPeople",e.length,[0])]),size:16})));b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x6s0dn4 x78zum5 xozqiw3",b[0]=f):f=b[0];a=p.map(o);b[1]!==f||b[2]!==a?(g=l.jsx("div",{className:f,children:a}),b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function o(a,b){return l.jsxs(l.Fragment,{children:[b!==0?l.jsx("div",{className:"x1fsd2vl"}):null,a]},"item_"+b.toString(10))}o.displayName=o.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("MWThreadListItemAddOnEnd.react",["fbt","FBGroupChatInviteState","I64","Int64Hooks","LSFactory","LSIntEnum","LSUpdateCommunityChannelDirectInviteStoredProcedure","MWCMGetValidId","MWJewelPopoverDialogContext.react","MWPActor.react","MWPThreadListItemInviteAddOn.react","MWThreadAddOnSecondary.react","ReQL","ReQLSuspense","ThreadStatus","cometPushToast","promiseDone","react","react-forget-runtime","requireDeferred","useMWChatCalculateIsMutedFromExpireTime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));e=j;e.useContext;var n=e.c,o=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("MWThreadListItemAddOnEnd.react");function p(a){var b=a.clientExtras,c=a.communityId,e=a.event,f=a.groupId,g=a.parentSurface,h=g===void 0?"channel_list":g,i=a.source,j=a.threadId;o.onReady(function(a){return a.log(function(){return{action:"tap",client_extras:b,community_id:c==null?null:(l||(l=d("I64"))).to_string(c),event:e,group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(f)?(l||(l=d("I64"))).to_string(f):null,parent_surface:h,source:i,surface:"chat_row",thread_id:(l||(l=d("I64"))).to_string(j)}})})}function a(a){var b=n(30),e=a.communityId,f=a.fbGroupId,g=a.isMaximized,j=a.messagingEntrypoint,o=a.mutedUntilMs,r=a.parentSurface,s=a.showGroupsJoinChatDialog,t=a.thread,u=(i||(i=c("useReStore")))();a=c("useMWChatCalculateIsMutedFromExpireTime")(o);o=d("MWPActor.react").useActor();var v;b[0]!==t.threadStatus?(v=t.threadStatus!=null&&((l||(l=d("I64"))).equal(t.threadStatus,(l||(l=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(l||(l=d("I64"))).equal(t.threadStatus,(l||(l=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),b[0]=t.threadStatus,b[1]=v):v=b[1];v=v;var w=t.snippetSenderContactId,x;b[2]!==w||b[3]!==o?(x=w!=null?(l||(l=d("I64"))).equal(w,o):!1,b[2]=w,b[3]=o,b[4]=x):x=b[4];w=x;o=(l||(l=d("I64"))).equal(t.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(0));x=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("MWJewelPopoverDialogContext.react"),q);var y=x.setIsOpenForDialog;x=t.hasPendingInvitation||!1;var z;b[5]!==u||b[6]!==t.threadKey||b[7]!==t.needsAdminApprovalForNewParticipant||b[8]!==e||b[9]!==f||b[10]!==r?(z=function(){var a;c("promiseDone")(u.runInTransaction(function(a){return c("LSUpdateCommunityChannelDirectInviteStoredProcedure")(c("LSFactory")(a),{channelId:t.threadKey,state:(k||(k=d("LSIntEnum"))).ofNumber(c("FBGroupChatInviteState").DECLINED_BY_RECEIVER)})},"readwrite"));p({clientExtras:{member_join_request_enabled:((a=t.needsAdminApprovalForNewParticipant)!=null?a:!1)?"1":"0"},communityId:e,event:"invite_declined",groupId:f,parentSurface:r,source:"direct_invite_decline_button",threadId:t.threadKey});d("cometPushToast").cometPushSimpleToast(h._("__JHASH__tNF5MX9GoB5__JHASH__").toString())},b[5]=u,b[6]=t.threadKey,b[7]=t.needsAdminApprovalForNewParticipant,b[8]=e,b[9]=f,b[10]=r,b[11]=z):z=b[11];z=z;if(x){b[12]!==t.needsAdminApprovalForNewParticipant||b[13]!==t.threadKey||b[14]!==e||b[15]!==f||b[16]!==r||b[17]!==y||b[18]!==j||b[19]!==s?(x=function(a){var b;p({clientExtras:{member_join_request_enabled:((b=t.needsAdminApprovalForNewParticipant)!=null?b:!1)?"1":"0"},communityId:e,event:"invite_accepted",groupId:f,parentSurface:r,source:"direct_invite_join_button",threadId:t.threadKey});y(j==="jewel");return s(a)},b[12]=t.needsAdminApprovalForNewParticipant,b[13]=t.threadKey,b[14]=e,b[15]=f,b[16]=r,b[17]=y,b[18]=j,b[19]=s,b[20]=x):x=b[20];var A;b[21]!==x||b[22]!==z?(A=m.jsx(c("MWPThreadListItemInviteAddOn.react"),{onAccept:x,onDecline:z}),b[21]=x,b[22]=z,b[23]=A):A=b[23];return A}if(g||!o){b[24]!==j||b[25]!==a||b[26]!==v||b[27]!==w||b[28]!==t?(x=m.jsx(c("MWThreadAddOnSecondary.react"),{entryPoint:j,isMuted:a,isPaused:v,isViewerSender:w,lastMessageDeliveryStatusIcon:null,thread:t}),b[24]=j,b[25]=a,b[26]=v,b[27]=w,b[28]=t,b[29]=x):x=b[29];return x}return null}function q(a){return[a.setIsOpenForDialog]}var r=m.memo(a);function b(a){var b=n(25),e,g,h,j,k;b[0]!==a?(h=a.threadKey,g=a.communityId,e=a.fbGroupId,j=a.renderAddOnEnd,k=babelHelpers.objectWithoutPropertiesLoose(a,["threadKey","communityId","fbGroupId","renderAddOnEnd"]),b[0]=a,b[1]=e,b[2]=g,b[3]=h,b[4]=j,b[5]=k):(e=b[1],g=b[2],h=b[3],j=b[4],k=b[5]);var l;b[6]!==e?(a=function(){return e},l=[e],b[6]=e,b[7]=a,b[8]=l):(a=b[7],l=b[8]);a=d("Int64Hooks").useMemoInt64(a,l);var o;b[9]!==g?(l=function(){return g},o=[g],b[9]=g,b[10]=l,b[11]=o):(l=b[10],o=b[11]);l=d("Int64Hooks").useMemoInt64(l,o);var p=(i||(i=c("useReStore")))();b[12]!==p.tables.threads||b[13]!==h?(o=function(){return d("ReQL").fromTableAscending(p.tables.threads,["threadType","threadStatus","threadKey","snippetSenderContactId","parentThreadKey","hasPendingInvitation","takedownState","needsAdminApprovalForNewParticipant"]).getKeyRange(h)},b[12]=p.tables.threads,b[13]=h,b[14]=o):o=b[14];var q;b[15]!==p||b[16]!==h?(q=[p,h],b[15]=p,b[16]=h,b[17]=q):q=b[17];o=d("ReQLSuspense").useFirst(o,q,f.id+":233");if(j!=null){b[18]!==j?(q=j(),b[18]=j,b[19]=q):q=b[19];return q}if(o==null)return null;b[20]!==l||b[21]!==a||b[22]!==o||b[23]!==k?(j=m.jsx(r,babelHelpers["extends"]({communityId:l,fbGroupId:a,thread:o},k)),b[20]=l,b[21]=a,b[22]=o,b[23]=k,b[24]=j):j=b[24];return j}g["default"]=b}),226);
__d("MWThreadListCommunityContainer.react",["CometPlaceholder.react","I64","Int64Hooks","LSIntEnum","LSRtcCallState","LSThreadTitle.react","MAWVault","MWCMThreadTypes.react","MWInboxCommunityThreadsRouteBuilder","MWPIsThreadUnread","MWThreadListConsts","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListItemMoreActions.react","MWThreadListLastMessage.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXListCellPressable.react","MWXProfilePhoto.react","MWXText.react","MessengerClientEventLogger","ReQL","ReQLSuspense","emptyFunction","getLSMediaThreadPictureUrl","gkx","mwCMisStandAloneCommunity","mwIsThreadDisabled","qpl","react","react-strict-dom","requireDeferred","useMatchViewport","useMenuButtonVisibilityState","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;b.useCallback;b.useMemo;var m=b.c,n=c("requireDeferred")("QuickPerformanceLogger").__setRef("MWThreadListCommunityContainer.react"),o={listItemContainer:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},listItemContainerForMessengerDotCom:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0}},p=c("qpl")._(269227335,"359");function a(a){var b=m(89),e=a.folder,g=a.messagingEntrypoint,i=a.onThreadSelected,u=a.responsive,v=a.selected,w=a.thread,x=i===void 0?c("emptyFunction"):i;b[0]!==w?(a=d("MWPIsThreadUnread").isThreadUnread(w),b[0]=w,b[1]=a):a=b[1];var y=a;b[2]!==e.communityType||b[3]!==e.folderId||b[4]!==e.fbGroupId||b[5]!==y?(i={onImpressionStart:function(){d("MessengerClientEventLogger").log({business_account_user:null,event_type:"one_px_impression",is_smc:c("mwCMisStandAloneCommunity")(e.communityType),marketplace_user:null,multiple_account_user:null,surface:{entry_point:null,major_surface:"inbox_tab",minor_surface:"inbox_communities"},target:{badging:{count:y?"1":"0"},button:{type:null},community:{id:(j||(j=d("I64"))).to_string(e.folderId)},group:{id:j.to_string(e.fbGroupId)},ranking:null}})}},b[2]=e.communityType,b[3]=e.folderId,b[4]=e.fbGroupId,b[5]=y,b[6]=i):i=b[6];a=c("useSinglePartialViewImpression")(i);if(b[7]!==w){i=(i=c("getLSMediaThreadPictureUrl")(w))!=null?i:"";b[7]=w;b[8]=i}else i=b[8];i=i;var z;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(z="x1h0ha7o xg83lxy",b[9]=z):z=b[9];b[10]!==i?(z=l.jsx("div",{className:z,children:l.jsx(c("MWXProfilePhoto.react"),{shape:"roundedRectLarge",size:48,source:{uri:i}})}),b[10]=i,b[11]=z):z=b[11];i=z;var A=i;b[12]!==w?(z=l.jsx(c("LSThreadTitle.react"),{thread:w}),b[12]=w,b[13]=z):z=b[13];i=z;var B=i;if(b[14]!==w.snippet){i=d("MAWVault").unvault((z=w.snippet)!=null?z:"");b[14]=w.snippet;b[15]=i}else i=b[15];var C=i;b[16]!==w||b[17]!==y||b[18]!==C?(z=function(){return l.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!(j||(j=d("I64"))).equal(w.ongoingCallState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)),isUnread:y,lastMessageCtaType:w.lastMessageCtaType,lastMessageTimestamp:j.to_float(w.lastActivityTimestampMs),showDisappearingMessageVisualIndicator:!1,showSnippetText:!0,showTimestamp:!0,snippet:l.jsx(c("MWThreadSnippetForDisplay.react"),{snippetRaw:C,thread:w}),thread:w})},i=[y,C,w],b[16]=w,b[17]=y,b[18]=C,b[19]=z,b[20]=i):(z=b[19],i=b[20]);var D=d("Int64Hooks").useMemoInt64(z,i);bb0:{z=(j||(j=d("I64"))).to_float(e.notificationMutedUntil);if(z===-1||z===0){i=z;break bb0}i=z+Date.now()}var E=i;b[21]!==e.folderId||b[22]!==e.fbGroupId||b[23]!==E||b[24]!==w.threadKey?(z=function(){return l.jsx(c("MWThreadListItemAddOnEnd.react"),{communityId:e.folderId,fbGroupId:e.fbGroupId,isMaximized:!1,messagingEntrypoint:"inbox",mutedUntilMs:E,parentSurface:"channel_list",showGroupsJoinChatDialog:c("emptyFunction"),threadKey:w.threadKey})},i=[e.fbGroupId,e.folderId,w.threadKey,E],b[21]=e.folderId,b[22]=e.fbGroupId,b[23]=E,b[24]=w.threadKey,b[25]=z,b[26]=i):(z=b[25],i=b[26]);var F=d("Int64Hooks").useMemoInt64(z,i),G=c("useMenuButtonVisibilityState")(!0),H=G[1].setListItemHovered;b[27]!==H?(z=function(){return H(!1)},b[27]=H,b[28]=z):z=b[28];i=z;b[29]!==H?(z=function(){return H(!0)},b[29]=H,b[30]=z):z=b[30];z=z;var I=c("mwIsThreadDisabled")(void 0,e.takedownState);u=c("gkx")("24056")?!1:u;u=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay)||!u;var J=I?!1:u;b[31]!==J||b[32]!==e.communityType||b[33]!==e.fbGroupId||b[34]!==e.folderId||b[35]!==y||b[36]!==w.lastMessageCtaType||b[37]!==w.threadKey||b[38]!==w.threadType||b[39]!==G||b[40]!==g||b[41]!==v?(I=function(){return J?l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListCommunityContainer",children:l.jsx(c("MWThreadListItemMoreActions.react"),{communityType:e.communityType,fbGroupId:e.fbGroupId,folderId:e.folderId,isContainerUnread:y,lastMessageCtaType:w.lastMessageCtaType,menuButtonVisibilityState:G,messagingEntrypoint:g,onClose:c("emptyFunction"),selected:v,threadKey:w.threadKey,threadType:w.threadType})}):null},u=[e.communityType,e.fbGroupId,e.folderId,y,G,g,v,J,w.lastMessageCtaType,w.threadKey,w.threadType],b[31]=J,b[32]=e.communityType,b[33]=e.fbGroupId,b[34]=e.folderId,b[35]=y,b[36]=w.lastMessageCtaType,b[37]=w.threadKey,b[38]=w.threadType,b[39]=G,b[40]=g,b[41]=v,b[42]=I,b[43]=u):(I=b[42],u=b[43]);I=d("Int64Hooks").useMemoInt64(I,u);b[44]!==w.threadKey?(u=d("MWInboxCommunityThreadsRouteBuilder").buildURLWithoutThread({folder_id:(j||(j=d("I64"))).to_string(w.threadKey)}),b[44]=w.threadKey,b[45]=u):u=b[45];var K=u,L=(h||(h=c("useReStore")))();b[46]!==L.tables.threads||b[47]!==e.folderId?(u=function(){return d("ReQL").fromTableAscending(L.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(e.folderId)},b[46]=L.tables.threads,b[47]=e.folderId,b[48]=u):u=b[48];var M;b[49]!==L||b[50]!==e.folderId?(M=[L,e.folderId],b[49]=L,b[50]=e.folderId,b[51]=M):M=b[51];u=d("ReQLSuspense").useArray(u,M,f.id+":255");var N,O;if(b[52]!==u){M=u.filter(t);O=M.filter(s);N=O.length;M=M.filter(r).sort(q);b[52]=u;b[53]=M;b[54]=N;b[55]=O}else M=b[53],N=b[54],O=b[55];var P=M,Q=P.length;b[56]!==N||b[57]!==e.folderId||b[58]!==O||b[59]!==Q||b[60]!==P||b[61]!==K?(u=function(){if(N===1)return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:(j||(j=d("I64"))).to_string(e.folderId),thread_key:O[0]&&(j||(j=d("I64"))).to_string(O[0].threadKey)});return Q>0?d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:(j||(j=d("I64"))).to_string(e.folderId),thread_key:P[0]&&(j||(j=d("I64"))).to_string(P[0].threadKey)}):K},M=[e.folderId,K,P,O,Q,N],b[56]=N,b[57]=e.folderId,b[58]=O,b[59]=Q,b[60]=P,b[61]=K,b[62]=u,b[63]=M):(u=b[62],M=b[63]);var R=d("Int64Hooks").useCallbackInt64(u,M);b[64]!==F||b[65]!==A||b[66]!==B||b[67]!==D||b[68]!==R||b[69]!==e.folderId||b[70]!==e.communityType||b[71]!==e.fbGroupId||b[72]!==N||b[73]!==x||b[74]!==y||b[75]!==v?(u=function(){return l.jsx(c("MWXListCellPressable.react"),{addOnEnd:F,addOnStart:A,content:l.jsxs("div",{children:[l.jsx(c("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:B}),l.jsx(c("MWVerticalRhythm"),{height:8}),D]}),linkProps:{passthroughProps:{isOpenedFromCommunityContainer:!0},preventLocalNavigation:!1,url:R()},onPress:function(a){var b=(a=a.nativeEvent)==null?void 0:a.timeStamp;n.onReady(function(a){a.markerStart(p,(j||(j=d("I64"))).to_int32(e.folderId),b)});N===1&&x();d("MessengerClientEventLogger").log({business_account_user:null,event_type:"single_click",is_smc:c("mwCMisStandAloneCommunity")(e.communityType),marketplace_user:null,multiple_account_user:null,surface:{entry_point:null,major_surface:"inbox_tab",minor_surface:"inbox_communities"},target:{badging:{count:y?"1":"0"},button:{type:null},community:{id:(j||(j=d("I64"))).to_string(e.folderId)},group:{id:j.to_string(e.fbGroupId)},ranking:null}})},selected:v})},M=[F,A,B,D,R,v,N,e.communityType,e.folderId,e.fbGroupId,y,x],b[64]=F,b[65]=A,b[66]=B,b[67]=D,b[68]=R,b[69]=e.folderId,b[70]=e.communityType,b[71]=e.fbGroupId,b[72]=N,b[73]=x,b[74]=y,b[75]=v,b[76]=u,b[77]=M):(u=b[76],M=b[77]);u=d("Int64Hooks").useMemoInt64(u,M);b[78]===Symbol["for"]("react.memo_cache_sentinel")?(M=[o.listItemContainer,c("gkx")("23219")?o.listItemContainerForMessengerDotCom:!1],b[78]=M):M=b[78];var S;b[79]!==u?(S=l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:l.jsx(d("react-strict-dom").html.div,{role:"gridcell",children:u})}),b[79]=u,b[80]=S):S=b[80];b[81]!==S||b[82]!==I?(u=l.jsxs(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[S,I]}),b[81]=S,b[82]=I,b[83]=u):u=b[83];b[84]!==z||b[85]!==i||b[86]!==a||b[87]!==u?(S=l.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:z,onMouseLeave:i,ref:a,role:"row",style:M,children:u}),b[84]=z,b[85]=i,b[86]=a,b[87]=u,b[88]=S):S=b[88];return S}function q(a,b){return((a=a==null?void 0:a.threadName)!=null?a:"").localeCompare((a=b==null?void 0:b.threadName)!=null?a:"")}function r(a){return!d("MWPIsThreadUnread").isThreadUnread(a)}function s(a){return d("MWPIsThreadUnread").isThreadUnread(a)}function t(a){return!(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17))&&d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType)}g["default"]=a}),98);
__d("MWThreadListEmptyContainer.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","useEnsureViewerContactExistAndUpdated"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadListEmptyContainer.react"));function a(a){var b=i(2);a=a.parentThreadKey;c("useEnsureViewerContactExistAndUpdated")();var d;b[0]!==a?(d=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListEmptyContainer",children:j.jsx(k,{parentThreadKey:a})}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("useMWLogLongSuspense",["MWPBumpEntityKey","clearTimeout","react","setTimeout","useMergeRefs","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.c;function a(a,b){var d=m(a,5,b),e=m(a,15,b),f=m(a,60,b);a=m(a,300,b);return c("useMergeRefs")(d,e,f,a)}var l=/\W/g;function m(a,b,e){var f=k(11),g;f[0]!==a?(g=a.replace(l,"_"),f[0]=a,f[1]=g):g=f[1];var h=g,m=j();f[2]!==h||f[3]!==b||f[4]!==e?(a=function(){m.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mwp","long_suspension."+h+".suspended_"+b+"_sec"),e==null?void 0:e(b)},b*1e3)},f[2]=h,f[3]=b,f[4]=e,f[5]=a):a=f[5];g=a;f[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){c("clearTimeout")(m.current)},f[6]=a):a=f[6];var n=a,o;f[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return n},o=[n],f[7]=a,f[8]=o):(a=f[7],o=f[8]);i(a,o);f[9]!==g?(a={onHidden:n,onVisible:g},f[9]=g,f[10]=a):a=f[10];return c("useVisibilityObserver")(a)}g["default"]=a}),98);
__d("MWThreadListGlimmer.react",["CometVisualCompletionAttributes","MWXGlimmer.react","gkx","react","react-strict-dom","useMWLogLongSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={glimmerBody:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xktia5q",$$css:!0},glimmerHeadline:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1qx5ct2",marginBottom:"x1e56ztr",width:"x3hqpx7",$$css:!0},glimmerPhoto48:{borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",height:"xsdox4t",marginEnd:"xmo9yow",width:"x1useyqa",$$css:!0},glimmerPhoto56:{borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",height:"xnnlda6",marginEnd:"xmo9yow",width:"x15yg21f",$$css:!0},glimmerRoot:{display:"x78zum5",paddingBottom:"x1a8lsjc",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},glimmerText:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}},l=c("gkx")("23219"),m=j.forwardRef(function(a,b){var e=a.role;a=a.vcIgnore;return j.jsxs(d("react-strict-dom").html.div,babelHelpers["extends"]({ref:b,role:e,style:k.glimmerRoot},a===!0?c("CometVisualCompletionAttributes").IGNORE:{},{children:[j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:l?k.glimmerPhoto48:k.glimmerPhoto56}),j.jsxs(d("react-strict-dom").html.div,{style:k.glimmerText,children:[j.jsx(c("MWXGlimmer.react"),{index:1,xstyle:k.glimmerHeadline}),j.jsx(c("MWXGlimmer.react"),{index:2,xstyle:k.glimmerBody})]})]}))});function a(a){var b=i(11),d=a.numberOfItems,e=a.parentComponentForDebug,f=a.role,g=a.vcIgnore;a=d===void 0?1:d;var h=c("useMWLogLongSuspense")(e+".MWThreadListGlimmer");if(b[0]!==a||b[1]!==h||b[2]!==f||b[3]!==g){b[5]!==h||b[6]!==f||b[7]!==g?(d=function(a,b){return j.jsx(m,{ref:b===0?h:void 0,role:f,vcIgnore:g},"mw_list_glimmer_"+b)},b[5]=h,b[6]=f,b[7]=g,b[8]=d):d=b[8];e=Array(a).fill(!0).map(d);b[0]=a;b[1]=h;b[2]=f;b[3]=g;b[4]=e}else e=b[4];b[9]!==e?(d=j.jsx(j.Fragment,{children:e}),b[9]=e,b[10]=d):d=b[10];return d}g["default"]=a}),98);
__d("JSSet.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a}),66);
__d("MessageRequestsBulkActionsThreadListItem",["ix","CometPressable.react","I64","JSSet.bs","MWPIsThreadUnread","MWXIcon.react","MessageRequestsBulkActionsContext.react","fbicon","react","useMWAriaLabelForThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;b.useCallback;var l=b.useContext,m=b.useEffect,n=b.c,o={pressableContent:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x1lliihq",width:"xh8yej3",$$css:!0}};function a(a){var b=n(33),e=a.thread;a=a.threadListCell;var f=l(c("MessageRequestsBulkActionsContext.react")),g=f.setBulkActionsUnreadSelectedThreads,i=f.setBulkActionsSelectedThreads,o=f.bulkActionsSelectedThreads;b[0]!==e.threadKey?(f=(j||(j=d("I64"))).to_string(e.threadKey),b[0]=e.threadKey,b[1]=f):f=b[1];var q=f;b[2]!==i||b[3]!==q?(f=function(){return i(function(a){a=new Set(d("JSSet.bs").values(a));if(a["delete"](q))return a;else return a.add(q)})},b[2]=i,b[3]=q,b[4]=f):f=b[4];f=f;var r;b[5]!==g||b[6]!==e||b[7]!==o||b[8]!==q?(r=function(){g(function(a){a=new Set(d("JSSet.bs").values(a));if(d("MWPIsThreadUnread").isThreadUnread(e)&&o.has(q))return a.add(q);else if(d("MWPIsThreadUnread").isThreadUnread(e)){a["delete"](q);return a}else return a})},b[5]=g,b[6]=e,b[7]=o,b[8]=q,b[9]=r):r=b[9];var s;b[10]!==o?(s=[o],b[10]=o,b[11]=s):s=b[11];m(r,s);b[12]!==o||b[13]!==q?(r=o.has(q),b[12]=o,b[13]=q,b[14]=r):r=b[14];s=r;r=c("useMWAriaLabelForThread")(e);var t,u;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(t="x6s0dn4 x78zum5 xexx8yu x1iji9kk x18d9i69 x1sln4lm",u="x1sxyh0",b[15]=t,b[16]=u):(t=b[15],u=b[16]);var v=s?"highlight":"disabled",w;b[17]!==s?(w=s?d("fbicon")._(h("484757"),20):d("fbicon")._(h("659288"),20),b[17]=s,b[18]=w):w=b[18];b[19]!==v||b[20]!==w?(u=k.jsx("div",{className:u,children:k.jsx(c("MWXIcon.react"),{color:v,hideHoverOverlay:!0,icon:w})}),b[19]=v,b[20]=w,b[21]=u):u=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(v="x1iyjqo2 xeuugli x47corl",b[22]=v):v=b[22];b[23]!==a?(w=k.jsx("div",{className:v,children:a}),b[23]=a,b[24]=w):w=b[24];b[25]!==u||b[26]!==w?(v=k.jsxs("div",{"aria-hidden":!0,className:t,children:[u,w]}),b[25]=u,b[26]=w,b[27]=v):v=b[27];b[28]!==s||b[29]!==r||b[30]!==f||b[31]!==v?(a=k.jsx(c("CometPressable.react"),{"aria-checked":s,"aria-label":r,onPress:f,role:"checkbox",xstyle:p,children:v}),b[28]=s,b[29]=r,b[30]=f,b[31]=v,b[32]=a):a=b[32];return a}function p(){return[o.pressableContent]}g["default"]=a}),98);
__d("useGroupsCometJoinChatDialog",["GroupsCometJoinChatDialog.entrypoint","I64","Int64Hooks","MWXCardedDialogLoadingState.react","react","useMWCMShouldGoToFullScreenChatHook","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c;function l(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})}l.displayName=l.name+" [from "+f.id+"]";function a(a,b,e,f,g,h){var j=k(12),m,n;j[0]!==b||j[1]!==a.threadKey?(m=function(){var c;return{groupID:(i||(i=d("I64"))).to_string((c=b)!=null?c:(i||(i=d("I64"))).zero),threadID:i.to_string(a.threadKey)}},n=[b,a.threadKey],j[0]=b,j[1]=a.threadKey,j[2]=m,j[3]=n):(m=j[2],n=j[3]);m=d("Int64Hooks").useMemoInt64(m,n);n=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),m,void 0,l);var o=n[0],p=c("useMWCMShouldGoToFullScreenChatHook")(),q=a.hasPendingInvitation||!1;j[4]!==q||j[5]!==h||j[6]!==g||j[7]!==e||j[8]!==p||j[9]!==f||j[10]!==o?(m=function(){var a={invited:q,isSMC:h,onSuccess:g,parentSurface:e,shouldGoToMessenger:p,surface:f};o(a)},j[4]=q,j[5]=h,j[6]=g,j[7]=e,j[8]=p,j[9]=f,j[10]=o,j[11]=m):m=j[11];return m}g["default"]=a}),98);
__d("usePrefetchCutoverDependencies",["Int64Hooks","MWEnsureCutoverOpenThreadExists","MWV2EnsureThatChatTabExists","Promise","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a,c){var e=j(6),f=c.clientThreadKey,g=c.threadKey,i=c.threadType,k;e[0]!==a||e[1]!==g||e[2]!==i||e[3]!==f?(c=function(){return a.then(function(a){return(h||(h=b("Promise"))).all([d("MWEnsureCutoverOpenThreadExists").ensureCutoverOpenThreadExists(a,g),d("MWV2EnsureThatChatTabExists").ensureThatChatTabExists(a,g,i,f)]).then(function(){})})},k=[a,g,i,f],e[0]=a,e[1]=g,e[2]=i,e[3]=f,e[4]=c,e[5]=k):(c=e[4],k=e[5]);return d("Int64Hooks").useCallbackInt64(c,k)}g["default"]=a}),98);
__d("useMWPreloadThread",["Int64Hooks","InteractionTracingMetrics","JSResourceForInteraction","JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","MAWStateContext.react","MWLSThreadDisplayContext","Promise","ReQL","gkx","justknobx","promiseDone","qex","react","useAsyncReStore","useCometPreloader","usePrefetchCutoverDependencies"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useContext,m=e.c,n=c("JSResourceForInteraction")("MAWPreloadSecureMessages").__setRef("useMWPreloadThread"),o=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWPreloadThread");function a(a,e){var f=m(18),g=l(d("MAWStateContext.react").MAWDispatchContext),j=c("useAsyncReStore")(),k=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=c("usePrefetchCutoverDependencies")(j,a),r;f[0]!==k?(r=k!=="Inbox"&&c("justknobx")._("761"),f[0]=k,f[1]=r):r=f[1];var s=r,t=a.threadKey;f[2]!==s||f[3]!==e||f[4]!==j||f[5]!==t||f[6]!==a.threadType||f[7]!==a.clientThreadKey||f[8]!==g?(k=function(){s&&o.preload();if(e&&c("gkx")("1902")){var d;c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")});var f=c("justknobx")._("2575"),i=s?(d=c("qex")._("393"))!=null?d:f:f;c("promiseDone")((h||(h=b("Promise"))).all([j,n.load()]).then(function(b){var c=b[0];b=b[1];b=b.preloadSecureMessages;return b(c,t,a.threadType,a.clientThreadKey,g,i)}).then(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")})}))}},r=[j,e,s,a.clientThreadKey,g,a.threadType,t],f[2]=s,f[3]=e,f[4]=j,f[5]=t,f[6]=a.threadType,f[7]=a.clientThreadKey,f[8]=g,f[9]=k,f[10]=r):(k=f[9],r=f[10]);k=d("Int64Hooks").useCallbackInt64(k,r);var u;f[11]!==s||f[12]!==e||f[13]!==q||f[14]!==j||f[15]!==t?(r=function(){var a;a=!1;return function(){if(a===!0)return;a=!0;s&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){o.preload()});e?c("promiseDone")(q()):c("promiseDone")(j.then(function(a){return p(a,t)}))}},u=[s,e,q,j,t],f[11]=s,f[12]=e,f[13]=q,f[14]=j,f[15]=t,f[16]=r,f[17]=u):(r=f[16],u=f[17]);f=d("Int64Hooks").useMemoInt64(r,u);return c("useCometPreloader")("button",f,k)}function p(a,b){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(b)).then(function(e){if(e!=null&&e.minMessageId===e.maxMessageId)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:b})})},"readwrite",void 0,void 0,f.id+":159")}g["default"]=a}),98);
__d("LSSetCommunityChannelJoiningErrorCodeForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxSetCommunityChannelJoiningErrorCodeForTaskStoredProcedure";e.exports=a}),null);
__d("LSJoinCommunityChannel",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSOptimisticUpdateHasPendingJoinRequest","LSSetCommunityChannelJoiningErrorCodeForTask","LSUpdateCommunityChannelJoiningTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.parentThreadKey)})},function(a){return c.db.table(162).fetch([[[d[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([-1,4294967295]):(b=a.item,c.i64.eq(b.communityType,c.i64.cast([0,1]))?d[13]=b.folderId:d[13]=b.fbGroupId,d[2]=d[13])})},function(a){return c.storedProcedure(b("LSSetCommunityChannelJoiningErrorCodeForTask"),d[2],void 0)},function(d){return a[2]?c.storedProcedure(b("LSOptimisticUpdateHasPendingJoinRequest"),a[0],!0):c.resolve()},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=c.i64.cast([0,1]):(b=a.item,d[14]=b.syncGroup,c.i64.neq(d[14],void 0)?d[13]=d[14]:d[13]=c.i64.cast([0,1]),d[4]=d[13])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[6]=!1:(b=a.item,d[6]=b.errorShouldBeShown)})},function(a){return d[6]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[13]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[14]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[13],d[14],void 0,void 0)}]):c.resolve()},function(e){return d[8]=new c.Map(),d[8].set("thread_key",a[0]),d[8].set("community_id",d[2]),d[8].set("sync_group",d[4]),d[8].set("entry_point",a[1]),d[8].set("is_request_to_join",a[2]),d[8].set("request_source",void 0),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[13]=c.i64.of_float(Date.now()),d[9]=c.i64.add(d[13],c.i64.cast([0,0]))):d[9]=c.i64.cast([0,0]),d[10]=d[8].get("thread_key"),d[8],d[11]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[10]),c.i64.cast([0,337]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[9],c.i64.cast([0,0])).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.storedProcedure(b("LSUpdateCommunityChannelJoiningTaskID"),d[2],d[12])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxJoinCommunityChannelStoredProcedure";e.exports=a}),null);
__d("LSJoinCommunityChannelStoredProcedure",["LSJoinCommunityChannel","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSJoinCommunityChannel")(b.threadKey,b.entryPoint,b.isRequestToJoin,a)}g["default"]=a}),98);
__d("MAWGroupInvitesForThread",["LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);a=d("LSThreadBitOffset").has(105,a);if(b&&c)return a;else return!1}g.isGroupInviteThread=a}),98);
__d("getValidMediaURL",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()/1e3)}function j(a){if((h||(h=d("I64"))).gt(a,(h||(h=d("I64"))).zero))return(h||(h=d("I64"))).lt(a,i());else return!1}function a(a,b,c){return a!=null?j(a)?c:b:c}g["default"]=a}),98);
__d("useMWCMJoinCMThread",["C4GFalcoLoggerDeferred","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSCommunityBitOffset","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMailboxType","LSThreadBitOffset","LSVec","LSVerifyThreadViewStoredProcedure","ReQL","ThreadStatus","asyncToGeneratorRuntime","emptyFunction","mwCMisStandAloneCommunity","promiseDone","react","useGroupsCometCMOffboardingEntryPointDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=i||d("react");var l=e.useState,m=e.c,n=function(a){return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(18))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(21))};function a(a,e){var f=m(30),g=(h||(h=c("useReStore")))(),i;f[0]!==e?(i=e?d("LSCommunityBitOffset").has(1,e):!1,f[0]=e,f[1]=i):i=f[1];var o=i;f[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("JSResourceForInteraction")("MWCMPausedChatMemberDialog.react").__setRef("useMWCMJoinCMThread"),f[2]=i):i=f[2];i=c("useMWXLazyDialog")(i);var p=i[0],q=c("useMWNavigation")();i=l(!1);var r=i[0],s=i[1];f[3]!==e?(i=function(){var a;return{groupID:(j||(j=d("I64"))).to_string((a=e==null?void 0:e.fbGroupId)!=null?a:(j||(j=d("I64"))).zero)}},f[3]=e,f[4]=i):i=f[4];var t=e==null?void 0:e.fbGroupId,u;f[5]!==t?(u=[t],f[5]=t,f[6]=u):u=f[6];t=c("useGroupsCometCMOffboardingEntryPointDialog")(d("Int64Hooks").useMemoInt64(i,u));var v=t[0],w=a.clientThreadKey,x=a.threadKey,y=a.threadType;f[7]!==r||f[8]!==y||f[9]!==q||f[10]!==w||f[11]!==x?(i=function(){if(!r)return;n(y)&&(q.openTabOrInbox({clientThreadKey:w,threadKey:x,threadType:y},"inboxThreadList"),s(!1))},u=[y,w,x,r,q],f[7]=r,f[8]=y,f[9]=q,f[10]=w,f[11]=x,f[12]=i,f[13]=u):(i=f[12],u=f[13]);d("Int64Hooks").useEffectInt64(i,u);f[14]!==g||f[15]!==x||f[16]!==e||f[17]!==p||f[18]!==o||f[19]!==v?(t=function(a,f,h,i){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,l=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(x)));if(l==null)return;var m=function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadViewStoredProcedure")(c("LSFactory")(a),{contacts:c("LSVec").ofArray([]),mailboxType:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),threadKey:l.threadKey,threadType:l.threadType})},"readwrite"))},n=l.hasPendingInvitation||!1,q=l.threadStatus!=null&&(j||(j=d("I64"))).equal(l.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));b=(j||(j=d("I64"))).equal((b=e==null?void 0:e.enableState)!=null?b:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));q=!b&&q&&!d("LSThreadBitOffset").has(154,l)&&!n;if(q)return p({thread:l},c("emptyFunction"));if(!b&&d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(l,e==null?void 0:e.communityType)&&h){n=f?f.metaKey||f.ctrlKey||f.shiftKey:!1;m();return h(n)}if(c("mwCMisStandAloneCommunity")(e==null?void 0:e.communityType)){!d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(l,e==null?void 0:e.communityType)?(a(),s(!0)):c("promiseDone")(g.runInTransaction(function(a){s(!0);return c("LSJoinCommunityChannelStoredProcedure")(c("LSFactory")(a),{entryPoint:"",isRequestToJoin:!1,threadKey:l.threadKey})},"readwrite","ui"));return}if(l.needsAdminApprovalForNewParticipant===!0&&o&&i){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",client_extras:{member_join_request_enabled:"1"},community_id:(j||(j=d("I64"))).to_string(l.parentThreadKey),event:"thread_join",parent_surface:"thread_list",source:l.hasPendingInvitation===!0?"direct_invite_join_button":"join_button",surface:"messenger_inbox",thread_id:j.to_string(l.threadKey)});return i()}if(!b)return a();if((e==null?void 0:e.fbGroupId)==null)return;return v({},c("emptyFunction"))})())},f[14]=g,f[15]=x,f[16]=e,f[17]=p,f[18]=o,f[19]=v,f[20]=t):t=f[20];a=e==null?void 0:e.communityType;i=e==null?void 0:e.enableState;u=e==null?void 0:e.fbGroupId;var z;f[21]!==g||f[22]!==a||f[23]!==i||f[24]!==u||f[25]!==o||f[26]!==v||f[27]!==p||f[28]!==x?(z=[g,a,i,u,o,v,p,x],f[21]=g,f[22]=a,f[23]=i,f[24]=u,f[25]=o,f[26]=v,f[27]=p,f[28]=x,f[29]=z):z=f[29];return d("Int64Hooks").useCallbackInt64(t,z)}g["default"]=a}),98);
__d("useMWResponsiveLogExtraData",["gkx","react","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(){var a=i(2),b=c("gkx")("24056"),d=c("useMatchViewport")("min","width",900);b="mw_responsive_layout: "+b.toString()+", is900px: "+d.toString();a[0]!==b?(d={responsive:b},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),98);
__d("useOnPressMWThreadListItem",["fbt","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","MAWGroupInvitesForThread","MWCMThreadTypes.react","MWPIsThreadUnread","MessengerThreadTakedownState","MessengerWebUXLogger","ReQL","ThreadStatus","asyncToGeneratorRuntime","emptyFunction","getValidMediaURL","promiseDone","react","useCommunityFolder","useGroupsCometCMDisabledChatEntryPointDialog","useMWCMJoinCMThread","useMWNavigation","useMWResponsiveLogExtraData","useMWXLazyDialog","useMWXPushErrorToast","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||d("react")).c;function n(a){var e=m(9),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MWCMPausedChannelMemberDialog.react").__setRef("useOnPressMWThreadListItem"),e[0]=f):f=e[0];f=c("useMWXLazyDialog")(f);var g=f[0],h=(i||(i=c("useReStore")))();e[1]!==h.tables.threads||e[2]!==a||e[3]!==g?(f=function(){return function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b;b=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(h.tables.threads).getKeyRange(a))))!=null?b:{};var e=b.threadName,f=b.threadPictureUrl,i=b.threadPictureUrlExpirationTimestampMs;b=b.threadPictureUrlFallback;if(i==null||f==null||b==null||e==null)return;i=c("getValidMediaURL")(i,f,b);g({threadImageUrl:i,threadTitle:e},c("emptyFunction"))})())}},e[1]=h.tables.threads,e[2]=a,e[3]=g,e[4]=f):f=e[4];var j;e[5]!==h||e[6]!==g||e[7]!==a?(j=[h,g,a],e[5]=h,e[6]=g,e[7]=a,e[8]=j):j=e[8];return d("Int64Hooks").useMemoInt64(f,j)}function a(a,e,f,g,l){var o=m(42),p=l===void 0?!0:l,q=(i||(i=c("useReStore")))(),r=c("useMWNavigation")();o[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=c("JSResourceForInteraction")("MAWGroupInviteDialog.react").__setRef("useOnPressMWThreadListItem"),o[0]=l):l=o[0];l=c("useMWXLazyDialog")(l);var s=l[0],t=c("useCommunityFolder")(f),u=c("MessengerWebUXLogger").useInteractionLogger();o[1]!==f.takedownState?(l=f.takedownState!=null&&(j||(j=d("I64"))).equal(f.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").GEO_BLOCKED)),o[1]=f.takedownState,o[2]=l):l=o[2];var v=l;o[3]!==f.threadKey?(l=(j||(j=d("I64"))).to_string(f.threadKey),o[3]=f.threadKey,o[4]=l):l=o[4];var w;o[5]!==v||o[6]!==l?(w={isGeoBlocked:v,threadID:l},o[5]=v,o[6]=l,o[7]=w):w=o[7];l=c("useGroupsCometCMDisabledChatEntryPointDialog")(w);var x=l[0];w=n(f.threadKey);var y=w[0],z=c("useMWCMJoinCMThread")(f,t),A=c("useMWXPushErrorToast")(),B=c("useMWResponsiveLogExtraData")();o[8]!==q||o[9]!==f.threadKey||o[10]!==t||o[11]!==a||o[12]!==r||o[13]!==e||o[14]!==g||o[15]!==A||o[16]!==u||o[17]!==B||o[18]!==p||o[19]!==v||o[20]!==x||o[21]!==z||o[22]!==y||o[23]!==s?(l=function(i,l,m,n){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,o=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(q.tables.threads).getKeyRange(f.threadKey)));if(o==null)return;var w=d("MAWGroupInvitesForThread").isGroupInviteThread(o),C=d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(o.threadType),D=d("MWCMThreadTypes.react").isUnjoinedCMThread(o.threadType),E=d("LSMessagingThreadTypeUtil").isCMSubthread(o.threadType),F=o.threadStatus!=null&&((j||(j=d("I64"))).equal(o.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(j||(j=d("I64"))).equal(o.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),G=(t==null?void 0:t.takedownState)!=null&&(j||(j=d("I64"))).equal(t==null?void 0:t.takedownState,(j||(j=d("I64"))).of_int32(1)),H=o.takedownState!=null&&(j||(j=d("I64"))).equal(o.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN)),I=o.needsAdminApprovalForNewParticipant===!0;b=(j||(j=d("I64"))).equal((b=a)!=null?b:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var J=o.folderName==="inbox"?(k||(k=d("LSIntEnum"))).ofNumber(12):o.folderName==="pending"?(k||(k=d("LSIntEnum"))).ofNumber(29):(k||(k=d("LSIntEnum"))).ofNumber(30),K=d("MWPIsThreadUnread").isThreadUnread(o),L=function(a){var b={clientThreadKey:o.clientThreadKey,isUnread:K,threadKey:o.threadKey,threadType:o.threadType};if(a)return r.openInbox(b,e,J);r.openTabOrInbox(b,e,n,J);m&&m()},M=function(){g==null?void 0:g(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(q,function(a){return c("LSJoinCommunityChannelStoredProcedure")(c("LSFactory")(a),{entryPoint:"messengerdotcom",isRequestToJoin:I,threadKey:f.threadKey})},"joinCommunityChannel"),function(){L(!1),g==null?void 0:g(!1)},function(){A({title:h._("__JHASH__3PKwp9RcWIR__JHASH__")})})},N=o.hasPendingInvitation||!1;b=!b&&F&&!d("LSThreadBitOffset").has(154,o)&&!N;u==null?void 0:u({eventName:"open_thread",extraData:B,threadKey:o.threadKey,threadType:o.threadType});p||(u==null?void 0:u({eventName:"open_thread_from_mini_list",extraData:B,threadKey:o.threadKey,threadType:o.threadType}));if(H||G||v)return x({threadID:(j||(j=d("I64"))).to_string(o.threadKey)});if(D)return z(l,i,L,M);if(C&&b)return y();w?s({thread:o},c("emptyFunction")):E||L(i.metaKey||i.ctrlKey||i.shiftKey)})())},o[8]=q,o[9]=f.threadKey,o[10]=t,o[11]=a,o[12]=r,o[13]=e,o[14]=g,o[15]=A,o[16]=u,o[17]=B,o[18]=p,o[19]=v,o[20]=x,o[21]=z,o[22]=y,o[23]=s,o[24]=l):l=o[24];w=t==null?void 0:t.takedownState;var C;o[25]!==q||o[26]!==f.threadKey||o[27]!==w||o[28]!==a||o[29]!==u||o[30]!==p||o[31]!==v||o[32]!==r||o[33]!==e||o[34]!==g||o[35]!==A||o[36]!==x||o[37]!==z||o[38]!==y||o[39]!==s||o[40]!==B?(C=[q,f.threadKey,w,a,u,p,v,r,e,g,A,x,z,y,s,B],o[25]=q,o[26]=f.threadKey,o[27]=w,o[28]=a,o[29]=u,o[30]=p,o[31]=v,o[32]=r,o[33]=e,o[34]=g,o[35]=A,o[36]=x,o[37]=z,o[38]=y,o[39]=s,o[40]=B,o[41]=C):C=o[41];return d("Int64Hooks").useCallbackInt64(l,C)}g["default"]=a}),226);
__d("usePreloadRoute",["JSScheduler","react","useCometRouterDispatcher","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.c;function a(a,b){var e=k(6),f=c("useMWNavigation")(),g=c("useCometRouterDispatcher")(),h,l;e[0]!==g||e[1]!==f||e[2]!==a||e[3]!==b?(h=function(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){g!=null&&g.prefetchRouteDefinition(f.getUrlFromThreadKey(a,b))})},l=[g,f,a,b],e[0]=g,e[1]=f,e[2]=a,e[3]=b,e[4]=h,e[5]=l):(h=e[4],l=e[5]);j(h,l)}g["default"]=a}),98);
__d("MWThreadListItem.react",["fbt","CometPlaceholder.react","CometTextWithEntities.react","CurrentEnvironment","I64","Int64Hooks","InteractionTracing.xplat","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadTitle.react","MWCMJewelContext","MWCMThreadTypes.react","MWChatTextTransform","MWPIsThreadUnread","MWThreadListConsts","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListLastMessage.react","MWThreadPicture.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXGlimmer.react","MWXListCellPressable.react","MWXSpinner.react","MWXText.react","MessageRequestsBulkActionsContext.react","MessageRequestsBulkActionsThreadListItem","MessagingCommunityChatsPauseStatus","MessengerMuteUtils","MessengerWebEntryPointsUtil","MessengerWebUXLogger","MetaConfig","ReQL","ReQLSuspense","deferredLoadComponent","emptyFunction","gkx","interaction-tracing-metrics","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwCMisStandAloneCommunity","mwIsThreadDisabled","qpl","react","react-forget-runtime","react-strict-dom","requireDeferred","useCommunityFolder","useGroupsCometChatsEngagementImpressionLogger","useGroupsCometJoinChatDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWPreloadThread","useMWThreadSnippetForDisplay","useMatchViewport","useMenuButtonVisibilityState","useMergeRefs","useOnPressMWThreadListItem","usePreloadRoute","useReStore","useSimpleImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;e=b.memo;b.useCallback;b.useContext;b.useMemo;var n=b.useState,o=b.c,p=c("deferredLoadComponent")(c("requireDeferred")("MWThreadListItemMoreActions.react").__setRef("MWThreadListItem.react")),q={communityGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x170jfvy",width:"x3hqpx7",$$css:!0},listItemContainer:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},listItemContainerDisabled:{opacity:"xbyyjgo",$$css:!0},listItemContainerForMessengerDotCom:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0},listItemContainerHiddenContent:{display:"x1lliihq",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},threadBodyGlimmer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},threadSnippetGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xktia5q",$$css:!0},threadTitleGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1qx5ct2",marginBottom:"x1e56ztr",marginTop:"x1k70j0n",width:"x3hqpx7",$$css:!0}};function r(a){var b=o(10),e=a.isUnread,g=a.threadKey,h=(i||(i=c("useReStore")))();b[0]!==h.tables.threads||b[1]!==g?(a=function(){return d("ReQL").fromTableAscending(h.tables.threads,["threadName","threadType","threadKey","takedownState","lastMessageCtaType","ongoingCallState","eventEndTimestampMs","eventStartTimestampMs","snippet","snippetText","threadStatus","lastActivityTimestampMs","hasPendingInvitation","disappearingSettingTtl"]).getKeyRange(g)},b[0]=h.tables.threads,b[1]=g,b[2]=a):a=b[2];var j;b[3]!==h||b[4]!==g?(j=[h,g],b[3]=h,b[4]=g,b[5]=j):j=b[5];a=d("ReQLSuspense").useFirst(a,j,f.id+":143");if(a==null)return null;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:m.jsx(c("MWXGlimmer.react"),{index:2,xstyle:q.threadSnippetGlimmer})}),b[6]=j):j=b[6];b[7]!==e||b[8]!==a?(j=m.jsx(c("CometPlaceholder.react"),{fallback:j,children:m.jsx(s,{isUnread:e,thread:a})}),b[7]=e,b[8]=a,b[9]=j):j=b[9];return j}function s(a){var b,e=o(20),f=a.isUnread;a=a.thread;var g=c("useMWThreadSnippetForDisplay")(a),h=g.lastMessageCtaType,i=g.shouldHideTimestamp;g=g.snippet;var l;e[0]!==a.threadType?(l=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType),e[0]=a.threadType,e[1]=l):l=e[1];l=l;b=(b=c("gkx")("26362"))!=null?b:!1;var n;e[2]!==a.disappearingSettingTtl?(n=c("MetaConfig")._("112")&&a.disappearingSettingTtl!=null&&(j||(j=d("I64"))).gt(a.disappearingSettingTtl,(j||(j=d("I64"))).zero),e[2]=a.disappearingSettingTtl,e[3]=n):n=e[3];n=n;if(a.threadName==null&&c("mwCMIsAnyCMThread")(a.threadType)){var p;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=m.jsx(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:m.jsx(c("MWXGlimmer.react"),{index:2,xstyle:q.threadSnippetGlimmer})}),e[4]=p):p=e[4];return p}if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&g==null)return null;p=!(j||(j=d("I64"))).equal(a.ongoingCallState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));var r;e[5]!==a.lastActivityTimestampMs?(r=(j||(j=d("I64"))).to_float(a.lastActivityTimestampMs),e[5]=a.lastActivityTimestampMs,e[6]=r):r=e[6];b=l&&(a==null?void 0:a.hasPendingInvitation)!==!0&&b;l=!l&&!i;e[7]!==g||e[8]!==a?(i=m.jsx(c("MWThreadSnippetForDisplay.react"),{snippetRaw:g,thread:a}),e[7]=g,e[8]=a,e[9]=i):i=e[9];e[10]!==p||e[11]!==f||e[12]!==h||e[13]!==r||e[14]!==n||e[15]!==b||e[16]!==l||e[17]!==i||e[18]!==a?(g=m.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:p,isUnread:f,lastMessageCtaType:h,lastMessageTimestamp:r,showDisappearingMessageVisualIndicator:n,showSnippetText:b,showTimestamp:l,snippet:i,thread:a}),e[10]=p,e[11]=f,e[12]=h,e[13]=r,e[14]=n,e[15]=b,e[16]=l,e[17]=i,e[18]=a,e[19]=g):g=e[19];return g}function aa(a){var b=o(8),e=a.threadKey,g=(i||(i=c("useReStore")))();b[0]!==g.tables.threads||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadName","threadType","threadKey"]).getKeyRange(e)},b[0]=g.tables.threads,b[1]=e,b[2]=a):a=b[2];var h;b[3]!==g||b[4]!==e?(h=[g,e],b[3]=g,b[4]=e,b[5]=h):h=b[5];a=d("ReQLSuspense").useFirst(a,h,f.id+":261");if(a==null)return null;b[6]!==a?(h=a.threadName==null&&c("mwCMIsAnyCMThread")(a.threadType)?m.jsx(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:q.threadTitleGlimmer})}):m.jsx(c("LSThreadTitle.react"),{thread:a}),b[6]=a,b[7]=h):h=b[7];return h}function a(a){var b=o(138),e=a.hideMoreActions,f=a.lsEntryPoint,g=a.messagingEntrypoint,i=a.onClose,l=a.onPress,s=a.onPressOverride,t=a.onThreadJoined,u=a.onThreadSelected,v=a.parentSurface,w=a.renderAddOnEnd,x=a.renderThreadPhoto,y=a.renderThreadSubtitle,z=a.renderThreadTitle,A=a.responsive,B=a.selected,C=a.thread;a=e===void 0?!1:e;var D=i===void 0?c("emptyFunction"):i;e=t===void 0?c("emptyFunction"):t;var E=u===void 0?c("emptyFunction"):u,F=v===void 0?"channel_list":v;i=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("MWCMJewelContext"),ca);t=i.selectedFolderTab;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(u={eventName:"threadlist_item_impression"},b[0]=u):u=b[0];v=c("MessengerWebUXLogger").useImpressionLoggerRef(u);bb0:{if(!c("mwCMIsThreadBumped")(C)){i=!1;break bb0}if(c("CurrentEnvironment").messengerdotcom){i=F==="channel_list";break bb0}if(f==="jewel"){b[1]!==t?(u=(j||(j=d("I64"))).equal(t,j.of_int32(0)),b[1]=t,b[2]=u):u=b[2];i=u;break bb0}i=f!=="inboxThreadList"}var G=i;b[3]!==x||b[4]!==C.threadKey||b[5]!==G?(t=function(){var a;return(a=x)!=null?a:function(){return m.jsx(c("MWThreadPicture.react"),{badgeSize:c("gkx")("23219")||c("gkx")("8504")?10:14,photoSize:c("gkx")("23219")||c("gkx")("8504")?48:56,threadKey:C.threadKey,withAltText:!1,withCommunityPicture:G})}},u=[G,x,C.threadKey],b[3]=x,b[4]=C.threadKey,b[5]=G,b[6]=t,b[7]=u):(t=b[6],u=b[7]);var H=d("Int64Hooks").useMemoInt64(t,u);b[8]!==z||b[9]!==C.threadKey?(i=function(){var a;return(a=z)!=null?a:function(){return m.jsx(aa,{threadKey:C.threadKey})}},t=[z,C.threadKey],b[8]=z,b[9]=C.threadKey,b[10]=i,b[11]=t):(i=b[10],t=b[11]);var I=d("Int64Hooks").useMemoInt64(i,t),J=c("useCommunityFolder")(C);u=J==null?void 0:J.takedownState;b[12]!==C.takedownState||b[13]!==u?(i=c("mwIsThreadDisabled")(C.takedownState,u),b[12]=C.takedownState,b[13]=u,b[14]=i):i=b[14];var K=i,L=d("MWPIsThreadUnread").useIsThreadUnread(C.threadKey)&&!K;b[15]!==y||b[16]!==L||b[17]!==C.threadKey?(t=function(){var a;return(a=y)!=null?a:function(){return m.jsx(r,{isUnread:L,threadKey:C.threadKey})}},u=[L,y,C.threadKey],b[15]=y,b[16]=L,b[17]=C.threadKey,b[18]=t,b[19]=u):(t=b[18],u=b[19]);var M=d("Int64Hooks").useMemoInt64(t,u);b[20]!==C.threadType||b[21]!==J?(i=function(){if(!c("mwCMIsAnyCMThread")(C.threadType)||c("CurrentEnvironment").messengerdotcom)return null;return(J==null?void 0:J.name)==null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:q.communityGlimmer}),m.jsx(c("MWVerticalRhythm"),{height:8})]}):m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta3",children:J==null?void 0:J.name}),m.jsx(c("MWVerticalRhythm"),{height:8})]})},b[20]=C.threadType,b[21]=J,b[22]=i):i=b[22];t=J==null?void 0:J.name;b[23]!==t||b[24]!==C.threadType?(u=[t,C.threadType],b[23]=t,b[24]=C.threadType,b[25]=u):u=b[25];var N=d("Int64Hooks").useCallbackInt64(i,u);b[26]!==C.threadType?(t=function(){var a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(C.threadType),b=d("interaction-tracing-metrics").InteractionTracingMetricsCore.currentInteractionLogger(),c;c=Number(a);b.forEach(function(a){c=((a=a.annotations["int"])==null?void 0:a.hasSecureThread)||0||c});return b.addMetadata("hasSecureThread",c?1:0)},b[26]=C.threadType,b[27]=t):t=b[27];c("useSimpleImpression")(t);b[28]!==C.parentThreadKey?(i=(j||(j=d("I64"))).to_string(C.parentThreadKey),b[28]=C.parentThreadKey,b[29]=i):i=b[29];b[30]!==J?(u=J?(j||(j=d("I64"))).to_string(J.fbGroupId):void 0,b[30]=J,b[31]=u):u=b[31];t=f==="jewel"?"jewel_inbox":"chats_inbox";var O;b[32]!==C.threadKey?(O=(j||(j=d("I64"))).to_string(C.threadKey),b[32]=C.threadKey,b[33]=O):O=b[33];var P;b[34]!==i||b[35]!==u||b[36]!==t||b[37]!==O?(P={community_id:i,event:"bumped_chat_rendered",group_id:u,parent_surface:t,source:"unknown",surface:"messenger_inbox",thread_id:O},b[34]=i,b[35]=u,b[36]=t,b[37]=O,b[38]=P):P=b[38];i=c("useGroupsCometChatsEngagementImpressionLogger")(P);b[39]!==C.threadType?(u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(C.threadType),b[39]=C.threadType,b[40]=u):u=b[40];t=u;var Q=c("useMWNavigation")();O=c("gkx")("24056")?!1:A;var R=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay)||!O;P=d("MWCMThreadTypes.react").isUnjoinedCMThread(C.threadType);b[41]!==C||b[42]!==(J==null?void 0:J.communityType)?(u=C.hasPendingInvitation===!0&&d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(C,J==null?void 0:J.communityType),b[41]=C,b[42]=J==null?void 0:J.communityType,b[43]=u):u=b[43];var S=u;b[44]!==C?(A=d("MessengerMuteUtils").calcMuteUntilMs(C),b[44]=C,b[45]=A):A=b[45];O=A;var T=O,U=c("useMenuButtonVisibilityState")(!0),V=U[1].setListItemHovered;u=c("mwCMIsAnyCMThread")(C.threadType);b[46]!==C.parentThreadKey?(A=(j||(j=d("I64"))).equal(C.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(0)),b[46]=C.parentThreadKey,b[47]=A):A=b[47];var W=A,da=K?!1:W?R:!(P||a);b[48]!==V?(O=function(){return V(!1)},b[48]=V,b[49]=O):O=b[49];A=O;b[50]!==V?(P=function(){return V(!0)},b[50]=V,b[51]=P):P=b[51];a=P;O=c("useMWPreloadThread")(C,t);var ea=O.onHoverInPreloader,fa=O.onHoverOutPreloader,ga=O.onPressInPreloader;if(J!=null&&u){b[52]!==J.fbGroupId||b[53]!==J.folderId||b[54]!==J.enableState?(P=[J.fbGroupId,J.folderId,J.enableState],b[52]=J.fbGroupId,b[53]=J.folderId,b[54]=J.enableState,b[55]=P):P=b[55];O=P}else{b[56]===Symbol["for"]("react.memo_cache_sentinel")?(u=[void 0,void 0,void 0],b[56]=u):u=b[56];O=u}P=O;var X=P[0],ha=P[1];u=P[2];O=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("MessageRequestsBulkActionsContext.react"),ba);P=O.isBulkActionsEditMode;c("usePreloadRoute")(C.threadKey,C.threadType);b[57]!==J?(O=(J==null?void 0:J.pauseStatus)!=null&&(j||(j=d("I64"))).equal(J.pauseStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&c("gkx")("4215"),b[57]=J,b[58]=O):O=b[58];var ia=O;b[59]!==f||b[60]!==ia||b[61]!==K||b[62]!==G||b[63]!==C.threadType?(O=function(){return d("MessengerWebEntryPointsUtil").getEntryPointShouldOverrideThreadSnippetRemoval(f)?!1:ia||!K&&!G&&d("MWCMThreadTypes.react").isJoinedCMThread(C.threadType)},b[59]=f,b[60]=ia,b[61]=K,b[62]=G,b[63]=C.threadType,b[64]=O):O=b[64];var ja=O;O=n(!1);var Y=O[0];O=O[1];var Z=c("useOnPressMWThreadListItem")(u,f,C,O,R);u=J==null?void 0:J.communityType;b[65]!==u?(O=c("mwCMisStandAloneCommunity")(u),b[65]=u,b[66]=O):O=b[66];u=O;var $=c("useGroupsCometJoinChatDialog")(C,X,F,"messenger_inbox",e,u);b[67]!==K||b[68]!==S||b[69]!==ha||b[70]!==X||b[71]!==R||b[72]!==g||b[73]!==T||b[74]!==F||b[75]!==w||b[76]!==Z||b[77]!==$||b[78]!==D||b[79]!==C.threadKey?(O=function(){return K||S?void 0:m.jsx(c("MWThreadListItemAddOnEnd.react"),{communityId:ha,fbGroupId:X,isMaximized:R,messagingEntrypoint:g,mutedUntilMs:T,parentSurface:F,renderAddOnEnd:w,showGroupsJoinChatDialog:function(a){return Z(a,$,D)},threadKey:C.threadKey})},e=[ha,S,X,R,K,g,T,D,Z,F,w,$,C.threadKey],b[67]=K,b[68]=S,b[69]=ha,b[70]=X,b[71]=R,b[72]=g,b[73]=T,b[74]=F,b[75]=w,b[76]=Z,b[77]=$,b[78]=D,b[79]=C.threadKey,b[80]=O,b[81]=e):(O=b[80],e=b[81]);var ka=d("Int64Hooks").useMemoInt64(O,e);b[82]!==C||b[83]!==Y||b[84]!==ka||b[85]!==H||b[86]!==B||b[87]!==R||b[88]!==W||b[89]!==N||b[90]!==L||b[91]!==I||b[92]!==ja||b[93]!==M||b[94]!==K||b[95]!==Q||b[96]!==ea||b[97]!==fa||b[98]!==s||b[99]!==l||b[100]!==Z||b[101]!==$||b[102]!==D||b[103]!==E||b[104]!==ga?(u=function(){var a=C.additionalThreadContext!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta4",children:m.jsx(c("CometTextWithEntities.react"),{text:C.additionalThreadContext,transforms:d("MWChatTextTransform").textTransforms})}),m.jsx(c("MWVerticalRhythm"),{height:8})]}):null,b=h._("__JHASH___pGoCDzgM84__JHASH__"),e=m.jsx(c("MWXSpinner.react"),{color:"disabled",size:24});return m.jsx(c("MWXListCellPressable.react"),{addOnEnd:Y?e:ka,addOnStart:H(),"aria-current":B?"page":!1,content:m.jsxs(d("react-strict-dom").html.div,{style:R||!W?void 0:q.listItemContainerHiddenContent,children:[a,N(),m.jsx(c("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:L?"headlineEmphasized4":"headline4",children:I()}),ja()?null:m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),Y?m.jsx(c("MWXText.react"),{type:"entityHeaderMeta3",children:b}):M()]})]}),disabled:Y,linkProps:K?void 0:{preventLocalNavigation:!0,url:Q.getUrlFromThreadKey(C.threadKey,C.threadType)},onHoverIn:ea,onHoverOut:fa,onPress:function(a){var b=c("qpl")._(30605361,"6204");c("InteractionTracing.xplat").getPendingInteractions().forEach(function(a){var c;((c=a.getTrace())==null?void 0:c.qplEvent)===b&&((c=a.getTrace())==null?void 0:c.tracePolicy)==="comet.jewel.messenger"&&a.cancelTrace("thread_click",!0)});s!=null?s==null?void 0:s(a):(l==null?void 0:l(a,C),Z(a,$,D));E()},onPressIn:ga,selected:B,size:"large"})},O=[ka,W,Y,R,K,ja,L,Q,D,l,Z,s,E,ea,fa,ga,N,H,M,I,B,$,C],b[82]=C,b[83]=Y,b[84]=ka,b[85]=H,b[86]=B,b[87]=R,b[88]=W,b[89]=N,b[90]=L,b[91]=I,b[92]=ja,b[93]=M,b[94]=K,b[95]=Q,b[96]=ea,b[97]=fa,b[98]=s,b[99]=l,b[100]=Z,b[101]=$,b[102]=D,b[103]=E,b[104]=ga,b[105]=u,b[106]=O):(u=b[105],O=b[106]);e=d("Int64Hooks").useMemoInt64(u,O);b[107]!==da||b[108]!==X||b[109]!==C.lastMessageCtaType||b[110]!==C.threadKey||b[111]!==C.threadType||b[112]!==U||b[113]!==g||b[114]!==D||b[115]!==B?(u=function(){return da?m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListItem.MoreActions",children:m.jsx(p,{fbGroupId:X,lastMessageCtaType:C.lastMessageCtaType,menuButtonVisibilityState:U,messagingEntrypoint:g,onClose:D,selected:B,threadKey:C.threadKey,threadType:C.threadType})}):null},O=[X,U,g,D,B,da,C.lastMessageCtaType,C.threadKey,C.threadType],b[107]=da,b[108]=X,b[109]=C.lastMessageCtaType,b[110]=C.threadKey,b[111]=C.threadType,b[112]=U,b[113]=g,b[114]=D,b[115]=B,b[116]=u,b[117]=O):(u=b[116],O=b[117]);u=d("Int64Hooks").useMemoInt64(u,O);O=c("useMergeRefs")(v,G?i:null);v=t?"mwthreadlist-item-secure":"mwthreadlist-item-open";i=K?q.listItemContainerDisabled:!1;b[118]!==i?(t=[q.listItemContainer,i,c("gkx")("23219")?q.listItemContainerForMessengerDotCom:!1],b[118]=i,b[119]=t):t=b[119];b[120]!==P||b[121]!==C||b[122]!==e?(i=P?m.jsx(c("MessageRequestsBulkActionsThreadListItem"),{thread:C,threadListCell:e}):e,b[120]=P,b[121]=C,b[122]=e,b[123]=i):i=b[123];b[124]!==i?(P=m.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:m.jsx(d("react-strict-dom").html.div,{role:"gridcell",children:i})}),b[124]=i,b[125]=P):P=b[125];b[126]!==P||b[127]!==u?(e=m.jsxs(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[P,u]}),b[126]=P,b[127]=u,b[128]=e):e=b[128];b[129]!==a||b[130]!==A||b[131]!==t||b[132]!==e?(i=m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:a,onMouseLeave:A,role:"row",style:t,children:e}),b[129]=a,b[130]=A,b[131]=t,b[132]=e,b[133]=i):i=b[133];b[134]!==v||b[135]!==O||b[136]!==i?(P=m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,ref:O,children:i}),b[134]=v,b[135]=O,b[136]=i,b[137]=P):P=b[137];return P}function ba(a){return[a.isBulkActionsEditMode]}function ca(a){return[a.selectedFolderTab]}b=e(a);g["default"]=b}),226);
__d("MWThreadListFolderItem.react",["BaseView.react","CometTextWithEntities.react","I64","MAWVault","MWAddOnCircleContainer.react","MWCMThreadTypes.react","MWChatTextTransform","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWThreadListLastMessage.react","MWXListCellPressable.react","MWXTextPairing.react","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var k=b.c;function a(a){var b=k(28),e=a.icon,f=a.onClick,g=a.responsive,h=a.selected,l=a.size,m=a.thread;a=a.threadName;g=c("useMatchMedia")("(min-width: 900px)")||!g;var n;b[0]!==m.snippet?(n=m.snippet!=null?d("MAWVault").unvault(m.snippet):null,b[0]=m.snippet,b[1]=n):n=b[1];n=n;n=n;var o;b[2]!==m.lastActivityTimestampMs?(o=(i||(i=d("I64"))).to_float(m.lastActivityTimestampMs),b[2]=m.lastActivityTimestampMs,b[3]=o):o=b[3];o=o;var p=d("MWPIsThreadUnread").useIsThreadUnread(m.threadKey),q;b[4]!==l||b[5]!==e?(q=j.jsx(c("MWAddOnCircleContainer.react"),{size:l,children:e}),b[4]=l,b[5]=e,b[6]=q):q=b[6];l=q;e=l;l=(q=a)!=null?q:m.threadName;a=l;b[7]!==f?(q=function(){return f()},b[7]=f,b[8]=q):q=b[8];l=q;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(q="xurb0ha x1sxyh0",b[9]=q):q=b[9];var r;b[10]!==g||b[11]!==m.threadType||b[12]!==p||b[13]!==o||b[14]!==n?(r=g?j.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:p,lastMessageCtaType:null,lastMessageTimestamp:o,showTimestamp:!d("MWCMThreadTypes.react").isUnjoinedCMThread(m.threadType),snippet:n}):null,b[10]=g,b[11]=m.threadType,b[12]=p,b[13]=o,b[14]=n,b[15]=r):r=b[15];b[16]!==g||b[17]!==a?(m=g?j.jsx(c("CometTextWithEntities.react"),{text:a.toString(),transforms:d("MWChatTextTransform").textTransforms}):null,b[16]=g,b[17]=a,b[18]=m):m=b[18];o=!p;b[19]!==r||b[20]!==m||b[21]!==o?(n=j.jsx(c("MWXTextPairing.react"),{body:r,bodyLineLimit:1,headline:m,headlineLineLimit:1,level:4,reduceEmphasis:o}),b[19]=r,b[20]=m,b[21]=o,b[22]=n):n=b[22];b[23]!==e||b[24]!==n||b[25]!==l||b[26]!==h?(g=j.jsx(c("BaseView.react"),{testid:void 0,children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:j.jsx("div",{role:"row",children:j.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:j.jsx("div",{className:q,role:"gridcell",children:j.jsx(c("MWXListCellPressable.react"),{addOnStart:e,content:n,onPress:l,selected:h,size:"large"})})})})})}),b[23]=e,b[24]=n,b[25]=l,b[26]=h,b[27]=g):g=b[27];return g}g["default"]=a}),98);
__d("MWThreadListJobsItem.react",["fbt","ix","LSIntEnum","MWThreadListFolderItem.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(j||(j=d("react"))).c,m=j;function a(a){var b=l(11),e=a.onClick,f=a.responsive,g=a.selected,j=a.size;a=a.thread;var n;b[0]!==e?(n=function(){return e((k||(k=d("LSIntEnum"))).ofNumber(-13))},b[0]=e,b[1]=n):n=b[1];n=n;var o;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o=m.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("512668"),32),size:48}),b[2]=o):o=b[2];var p;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(p=(k||(k=d("LSIntEnum"))).ofNumber(-13),b[3]=p):p=b[3];var q;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._("__JHASH__fyt3EBzeQRx__JHASH__").toString(),b[4]=q):q=b[4];b[5]!==n||b[6]!==f||b[7]!==g||b[8]!==j||b[9]!==a?(o=m.jsx(c("MWThreadListFolderItem.react"),{icon:o,onClick:n,responsive:f,selected:g,size:j,systemFolder:p,thread:a,threadName:q}),b[5]=n,b[6]=f,b[7]=g,b[8]=j,b[9]=a,b[10]=o):o=b[10];return o}g["default"]=a}),226);
__d("useVirtualizationContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useRef,j=b.c;function a(){var a=j(1),b=i(null);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={rootElementRef:b},a[0]=b):b=a[0];a=b;b=a;return b}g["default"]=a}),98);
__d("MWThreadList.react",["CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","CometPageletWithDiv.react","CometPlaceholder.react","CometVisualCompletion","CurrentEnvironment","FBLogger","FocusRegion.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MWCMGetValidId","MWJewelPopoverThreadlistContext.react","MWLSJewelMessageRequestsThreadContainer.react","MWPBaseThreadList.react","MWPBumpEntityKey","MWPParentThreadKeyContext","MWPThreadIsPage.react","MWPThreadsForThreadList","MWResponsiveLayoutConstants","MWResponsiveLayoutContext.react","MWThreadKey.react","MWThreadListCommunityContainer.react","MWThreadListEmptyContainer.react","MWThreadListGlimmer.react","MWThreadListItem.react","MWThreadListJobsItem.react","MWThreadListSupportedThreadTypes","MWXacGating","MessagingFolderTag","MessengerWebUXLogger","ReQL","ReQLSuspense","VirtualizationContainerContext","cr:2261","cr:6055","emptyFunction","gkx","isCommunityContainersEnabled","isMWXacGroupThread","justknobx","mwCMIsThreadBumped","react","useCommunityFolder","useEmptyFunction","useGroupsCometIsInCCNegativeTest","useMWResponsiveLogExtraData","useReStore","useVirtualizationContainerContext","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useContext,p=m.useId,q=m.useRef,r=b("cr:6055")||c("useEmptyFunction");function s(a){return(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(15))&&(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(j||(j=d("I64"))).equal(a.lastReadWatermarkTimestampMs,(j||(j=d("I64"))).of_int32(-1))&&(j||(j=d("I64"))).equal(a.lastActivityTimestampMs,(j||(j=d("I64"))).of_int32(-1))}var t=5;function a(a){var e=a.lsEntryPoint,f=a.messagingEntrypoint,g=a.onClickNestedFolderThread,h=a.onClose,i=a.responsive,m=a.selected,n=a.thread;c("vulture")("9Yn42HLcSZk");var p=o(c("MWJewelPopoverThreadlistContext.react")),r=c("useCommunityFolder")({parentThreadKey:(j||(j=d("I64"))).equal(n.threadType,(k||(k=d("LSIntEnum"))).ofNumber(17))?n.threadKey:n.parentThreadKey});a=o(c("MWResponsiveLayoutContext.react"));var t=a.pushCard,u=n.threadKey;d("Int64Hooks").useEffectInt64(function(){if(b("cr:2261")==null)return;p==null?void 0:p.add(u);return function(){p==null?void 0:p["delete"](u)}},[p,u]);var v=q({loggingTimeout:null,threadKey:(j||(j=d("I64"))).of_int32(-1)}),w=q(j.of_int32(-1)),x=o(c("MWPParentThreadKeyContext"));d("Int64Hooks").useEffectInt64(function(){if(!c("justknobx")._("2234"))return;if(x!=null){var a=(j||(j=d("I64"))).to_string(n.parentThreadKey),b=j.to_string(x);!(j||(j=d("I64"))).equal(w.current,u)&&n.folderName!==c("MessagingFolderTag").COMMUNITY&&a!==b&&c("FBLogger")("messenger_threadlist_folder_inconsistency").mustfix("Render thread item expected folder %s but receive %s",b,a)}s(n)?(j||(j=d("I64"))).equal(v.current.threadKey,u)||(v.current.threadKey=u,v.current.loggingTimeout=window.setTimeout(function(){c("FBLogger")("messenger_threadlist_ghost").mustfix("Thread ID %s showing up as ghost",(j||(j=d("I64"))).to_string(u)),v.current.loggingTimeout=null},5e3)):(j||(j=d("I64"))).equal(v.current.threadKey,u)&&v.current.loggingTimeout!=null&&window.clearTimeout(v.current.loggingTimeout)},[x,n,u]);a=d("Int64Hooks").useCallbackInt64(function(){c("mwCMIsThreadBumped")({secondaryParentThreadKey:n.secondaryParentThreadKey,threadType:n.threadType})&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_bumped:"true"},community_id:r?(j||(j=d("I64"))).to_string(r.folderId):(j||(j=d("I64"))).to_string(n.parentThreadKey),event:"thread_open",group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(r==null?void 0:r.fbGroupId)?(j||(j=d("I64"))).to_string(r.fbGroupId):null,source:"chat_row",surface:e==="jewel"?"jewel_tray":"messenger_inbox",thread_id:(j||(j=d("I64"))).to_string(u)}),c("gkx")("24056")&&m&&t(d("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL)},[n.secondaryParentThreadKey,n.threadType,n.parentThreadKey,r,e,u,m,t]);var y=d("Int64Hooks").useCallbackInt64(function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_community_container:"true"},community_id:r?(j||(j=d("I64"))).to_string(r.folderId):null,event:"thread_open",group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(r==null?void 0:r.fbGroupId)?(j||(j=d("I64"))).to_string(r.fbGroupId):null,source:"messenger_inbox",surface:"messenger_inbox",thread_id:(j||(j=d("I64"))).to_string(n.threadKey)})},[r,n.threadKey]);if((j||(j=d("I64"))).equal(n.threadType,(k||(k=d("LSIntEnum"))).ofNumber(6))){if((j||(j=d("I64"))).equal(u,(k||(k=d("LSIntEnum"))).ofNumber(-13)))return l.jsx(c("MWThreadListJobsItem.react"),{onClick:g,responsive:i,selected:m,size:56,thread:n});else if(b("cr:2261")!=null&&(j||(j=d("I64"))).equal(u,(k||(k=d("LSIntEnum"))).ofNumber(-12)))return l.jsx(b("cr:2261"),{onClick:g,responsive:i,selected:m,size:56,thread:n});return null}g=c("isCommunityContainersEnabled")();g=d("CurrentEnvironment").messengerdotcom&&g&&c("mwCMIsThreadBumped")({secondaryParentThreadKey:n.secondaryParentThreadKey,threadType:n.threadType});return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWThreadListItem"}),name:"MWThreadList",children:l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:n.threadKey,children:l.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:n.threadKey,children:r!=null&&g?l.jsx(c("MWThreadListCommunityContainer.react"),{folder:r,messagingEntrypoint:f,onThreadSelected:y,responsive:i,selected:m,thread:n}):l.jsx(c("MWThreadListItem.react"),{lsEntryPoint:e,messagingEntrypoint:f,onClose:h,onThreadSelected:a,responsive:i,selected:m,size:56,thread:n})})})})}a.displayName=a.name+" [from "+f.id+"]";var u=l.memo(a);function e(a){var b=a.gridLabel,e=a.header,g=a.lsEntryPoint,i=a.onOpenMessageRequests,m=a.parentThreadKey,o=a.responsive,q=a.selectedThreadKey,s=a.setHasScrolled,v=a.setIsEmptyInbox,w=a.threadListMessagingEntrypoint,x=a.onClose,y=x===void 0?c("emptyFunction"):x;x=a.onClickNestedFolderThread;var z=x===void 0?c("emptyFunction"):x;x=a.preamble;c("vulture")("57P3NpSrxoj");var A=(h||(h=c("useReStore")))(),B=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(A.tables.threads_ranges_v2__generated).getKeyRange(m)},[A,m],f.id+":370"),C=d("ReQLSuspense").useArray(function(){return d("MWPThreadsForThreadList").createIterable(A,m,B,["lastActivityTimestampMs","threadType","capabilities","capabilities2","capabilities3","capabilities4"]).filter(function(a){if(!c("MWThreadListSupportedThreadTypes").some(function(b){return(j||(j=d("I64"))).equal(a.threadType,b)}))return!1;return d("MWXacGating").isGroupsEnabled()?!0:!c("isMWXacGroupThread")(a)}).take(5)},[A,m,B],f.id+":382").pop();a=p();var D=d("ReQLSuspense").useFirst(function(){return q!=null?d("ReQL").fromTableAscending(A.tables.threads,["parentThreadKey"]).getKeyRange(q):d("ReQL").empty()},[A,q],f.id+":415");r(a);var E=d("useGroupsCometIsInCCNegativeTest").useShouldDisableBumpToInboxForNegativeTest(),F=n(function(a){var b;if(a==null)return l.jsx("div",{});if(d("CurrentEnvironment").facebookdotcom&&c("mwCMIsThreadBumped")({secondaryParentThreadKey:a.secondaryParentThreadKey,threadType:a.threadType})&&E)return l.jsx("div",{});var e;(j||(j=d("I64"))).equal(a.threadKey,(k||(k=d("LSIntEnum"))).ofNumber(-13))||(j||(j=d("I64"))).equal(a.threadKey,(k||(k=d("LSIntEnum"))).ofNumber(-12))?e=D!=null&&(j||(j=d("I64"))).equal(a.threadKey,D.parentThreadKey):e=q!=null&&(j||(j=d("I64"))).equal(q,a.threadKey);return a!=null?l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_list",disableHiding:!0,children:l.jsx(u,{lsEntryPoint:g==="inboxThreadList"?C!=null&&(j||(j=d("I64"))).le(a.lastActivityTimestampMs,C.lastActivityTimestampMs)?"inboxRecentThreads":"inboxRemainingThreads":g,messagingEntrypoint:(b=w)!=null?b:"jewel",onClickNestedFolderThread:z,onClose:y,responsive:o,selected:e,thread:a})}):l.jsx("div",{})},[g,C,w,z,y,o,D,q,E]),G=n(function(a){s&&s(function(b){return a.scrollTop>0})},[s]),H=c("useMWResponsiveLogExtraData")();H=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"threadlist_impression",extraData:H});var I=c("useVirtualizationContainerContext")(),J=n(function(a){I.rootElementRef.current=a==null?void 0:a.getScrollAreaElement()},[I.rootElementRef]);return l.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",id:a,ref:H,children:[e!=null?l.jsx(d("FocusRegion.react").FocusRegion,{children:e}):null,l.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xmz0i5r x6ikm8r x10wlt62",fallback:null,name:"MWThreadList",children:l.jsx(c("MWPParentThreadKeyContext").Provider,{value:m,children:l.jsx(c("VirtualizationContainerContext").Provider,{value:I,children:l.jsx(c("MWPBaseThreadList.react"),{beforeContent:l.jsxs(l.Fragment,{children:[l.jsx(c("MWLSJewelMessageRequestsThreadContainer.react"),{onOpenMessageRequests:i}),x]}),emptyContent:l.jsx(c("MWThreadListEmptyContainer.react"),{parentThreadKey:m}),gridLabel:b,imperativeRef:J,onLoadMoreThreads:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.threadlist","load_more_threads"),c("CometVisualCompletion").addFirstMarkerPoint("threadListLoadMoreThreads")},onScroll:G,pageSize:15,parentThreadKey:m,renderItem:F,renderLoadingAnimation:function(a,b){a=a==="onBottom"&&b>t;return l.jsxs(l.Fragment,{children:[l.jsx(c("MWThreadListGlimmer.react"),{numberOfItems:2,parentComponentForDebug:"MWThreadListLoadingAnimation",vcIgnore:a}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"ThreadListLoadingMoreItems",hold:!a})]})},setIsEmptyInbox:v})})})})]})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("MWJewelNestedFolderThreadList.react",["CometScrollView.react","CometTopNavListDropdownCard.react","MWJewelNestedFolderThreadListHeader.react","MWThreadList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(13),d=a.folder,e=a.onClose,f=a.onReturn;a=a.title;var g;b[0]!==f||b[1]!==a?(g=j.jsx(c("MWJewelNestedFolderThreadListHeader.react"),{onReturn:f,title:a}),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==a?(f=typeof a==="string"?a:a.toString(),b[3]=a,b[4]=f):f=b[4];b[5]!==f||b[6]!==e||b[7]!==d?(a=j.jsx(c("MWThreadList.react"),{gridLabel:f,lsEntryPoint:"jewelNestedFolder",onClose:e,parentThreadKey:d,responsive:!1}),b[5]=f,b[6]=e,b[7]=d,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx("div",{className:"x1qx5ct2"}),b[9]=f):f=b[9];b[10]!==g||b[11]!==a?(e=j.jsx(c("CometTopNavListDropdownCard.react"),{useMaxHeight:!0,children:j.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[g,a,f]})}),b[10]=g,b[11]=a,b[12]=e):e=b[12];return e}g["default"]=a}),98);
__d("MWJewelThreadListSearchTypeahead.react",["FBLogger","I64","MWChatSearchFilteringUtils","MWChatSearchResultType","MWPSearchSystem","MWThreadCreationUtil","QPLUserFlow","asyncToGeneratorRuntime","cr:3070","emptyFunction","gkx","qpl","react","setTimeoutCometSpeculative","useCometPreloader","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useEffect,m=e.useState,n=e.c,o=c("gkx")("24073");function a(a){var e=n(24),f=a.onClose;a=m("");var g=a[0];a=a[1];var j=c("useMWChatOpenTabForGroup")("jewelSearch"),p=j[0],q=c("useMWChatOpenTabForPage")("jewelSearch");j=c("useMWChatOpenTabForUser")("jewelSearch");var r=j.openTabByThreadKey,s=j.openTabForUser,t=(h||(h=c("useReStore")))();e[0]!==t?(j=function(){return d("MWPSearchSystem").makeAll(t)},e[0]=t,e[1]=j):j=e[1];var u=j;e[2]!==u?(j=function(){o&&c("setTimeoutCometSpeculative")(u,1e4)},e[2]=u,e[3]=j):j=e[3];l(j);e[4]!==r||e[5]!==t||e[6]!==s?(j=function(a,e){var f=d("MWChatSearchFilteringUtils").getIsE2ee(e.rawData);if(f)return r(a,!0);d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(e,t).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=b.isSecureThread;b=b.reason;if(b==="default_e2ee"&&c("gkx")("23866"))s({userId:a});else{var g=(yield t.tables.threads.get((i||(i=d("I64"))).of_string(a)));s({isSecureThread:f,reason:"MWJewelThreadListSearchTypeahead, FBID: "+a+", reason: "+((f=b)!=null?f:"")+", searchSource: "+((b=e.rawData.searchSource)!=null?b:"")+", otherUserId: "+((f=e.rawData.otherUserId)!=null?f:"")+", hasCutoverThread: "+((f=(b=e.rawData.hasCutoverThread)==null?void 0:b.toString())!=null?f:"false")+", threadAuthorityLevel: "+(g!=null?(i||(i=d("I64"))).to_string(g.authorityLevel):"null"),userId:a})}});return function(a){return f.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("messenger_search").mustfix("Error fetching contact capabilities: %s",a)})},e[4]=r,e[5]=t,e[6]=s,e[7]=j):j=e[7];var v=j;e[8]!==p||e[9]!==v||e[10]!==q||e[11]!==f?(j=function(a){var b=a.rawData,d=b.id;b=b.resultType;bb47:switch(b){case c("MWChatSearchResultType").MESSAGE:break bb47;case c("MWChatSearchResultType").GROUP:p(d);break bb47;case c("MWChatSearchResultType").USER:case c("MWChatSearchResultType").AI_BOT:v(d,a);break bb47;case c("MWChatSearchResultType").PAGE:q(d)}f()},e[8]=p,e[9]=v,e[10]=q,e[11]=f,e[12]=j):j=e[12];j=j;var w=c("useCometPreloader")("button_aggressive",c("emptyFunction"),u),x=w.onHoverInPreloader,y=w.onHoverMovePreloader;w=w.onHoverOutPreloader;var z;e[13]!==u?(z=function(){u(),c("QPLUserFlow").start(c("qpl")._(25312244,"1683"))},e[13]=u,e[14]=z):z=e[14];e[15]!==z||e[16]!==j||e[17]!==g?(a=k.jsx(b("cr:3070"),{onChange:a,onFocus:z,onPressEntry:j,queryString:g}),e[15]=z,e[16]=j,e[17]=g,e[18]=a):a=e[18];e[19]!==x||e[20]!==w||e[21]!==y||e[22]!==a?(z=k.jsx("div",{onMouseEnter:x,onMouseLeave:w,onMouseMove:y,children:a}),e[19]=x,e[20]=w,e[21]=y,e[22]=a,e[23]=z):z=e[23];return z}f=k.memo(a);g["default"]=f}),98);
__d("useInteractionIDWithInheritance",["InteractionTracingMetrics"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d,e;d=a==null?null:(d=c("InteractionTracingMetrics").get(a))==null?void 0:d.start;e=b==null?null:(e=c("InteractionTracingMetrics").get(b))==null?void 0:e.start;if(b!=null&&(a==null||d==null||d!=null&&e!=null&&d<e))return b;else return a}g["default"]=a}),98);
__d("CometMessagingJewelDropdownContent.react",["fbt","CometErrorBoundary.react","CometHeroInteractionIDContext","CometHeroInteractionWithDiv.react","CometMessagingJewelCommunitiesQPBannerContainer.react","CometMessagingJewelDropdownContentGlimmer.react","CometMessagingJewelDropdownContent_query.graphql","CometMessagingJewelDropdownQPBannerContainer.react","CometPageletWithDiv.react","CometPlaceholder.react","CometRelay","CometTopNavListDropdownCard.react","CometTransientDialogProvider.react","FBLogger","I64","InteractionTracing","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSPlatformErrorsCatcher.react","MAWUnrecoverableErrorBoundary.react","MWCMJewelContext","MWInboxContextSwitcherGlimmer.react","MWInboxQuickPromotionWrapper.react","MWJewelDropdownHeader.react","MWJewelNestedFolderThreadList.react","MWJewelPopoverDialogContext.react","MWJewelThreadListSearchTypeahead.react","MWThreadList.react","ODS","ReQL","ReQLSuspense","WebUXLoggingEntryPointContextProvider","XCometMessengerControllerRouteBuilder","cr:242","cr:7643","deferredLoadComponent","gkx","lazyLoadComponent","qpl","react","recoverableViolation","requireDeferredForDisplay","useInteractionIDWithInheritance","useMWChatSearchClearSearchResults","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.memo,q=e.useCallback,r=e.useContext,s=e.useEffect,t=e.useRef,u=e.c,v=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxContextSwitcherCond.react").__setRef("CometMessagingJewelDropdownContent.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMBlendedThreadListV2.react").__setRef("CometMessagingJewelDropdownContent.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWJewelMessageRequestsAndSpamDropdownWithTab.react").__setRef("CometMessagingJewelDropdownContent.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWRestrictedAccountsList.react").__setRef("CometMessagingJewelDropdownContent.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJewelArchivedChatsDropdown.react").__setRef("CometMessagingJewelDropdownContent.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometMessagingJewelDropdownErrorState.react").__setRef("CometMessagingJewelDropdownContent.react")),B=h._("__JHASH__9FTPnWJWCay__JHASH__");function C(a){c("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_entrypoints",{error:a})}var D=c("gkx")("22839")===!0;function E(a){var e=a.ebSoftblockUpsell,g=a.onClose,n=a.pushPage;a=a.query;var p=r(c("MWJewelPopoverDialogContext.react")),u=p.setIsOpenForDialog,A=c("useMWChatSearchClearSearchResults")(),E=q(function(){A(),g()},[g,A]);s(function(){return A},[A]);p=c("XCometMessengerControllerRouteBuilder").buildURL({});var F=r(c("MWCMJewelContext")),G=F.selectedFolderTab,H=F.setSelectedFolderTab;F=r(c("CometHeroInteractionIDContext"));var I=t();F=c("useInteractionIDWithInheritance")(F,I.current);a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessagingJewelDropdownContent_query.graphql"),a);var J=(j||(j=c("useReStore")))(),K=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(J.tables._user_info).map(function(a){return a.facebookUserId})},[J],f.id+":171"),L=d("ReQLSuspense").useFirst(function(){return K!=null?d("ReQL").fromTableAscending(J.tables.contacts,["capabilities","capabilities2"]).getKeyRange(K):d("ReQL").empty()},[J,K],f.id+":175"),M=q(function(){var a=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30607516,"756"),tracePolicy:"comet.jewel.message_requests",traceType:"INTERACTION"});n(function(b){b=b.onReturn;return o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!1,title:B,withBackButton:!0}),name:"MAWJewelMessageRequestsAndSpamDropdownWithTab",children:o.jsx(x,{interactionID:a,onClose:E,onReturn:b})})})},[E,n]),N=q(function(){n(function(a){a=a.onReturn;return o.jsx(y,{hidePage:a,onClose:E})})},[E,n]),O=q(function(){(k||(k=d("ODS"))).bumpEntityKey(3185,"mw_jewel","archived_chats"),n(function(a){a=a.onReturn;return o.jsx(z,{onClose:E,onReturn:a})})},[E,n]),P=q(function(a){n(function(b){b=b.onReturn;switch((l||(l=d("I64"))).to_int32(a)){case-13:return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:E,onReturn:b,title:h._("__JHASH__yJarfmqcRDP__JHASH__")});case-12:var e=L!=null&&d("LSContactBitOffset").has(86,L),f=h._("__JHASH__Yxm-6KVT3xg__JHASH__");e&&(f=h._("__JHASH__2CCWbeECGXn__JHASH__"));return o.jsx(c("MWJewelNestedFolderThreadList.react"),{folder:a,onClose:E,onReturn:b,title:f});default:c("FBLogger")("messenger_web_entrypoints").mustfix("Attempted to show an unimplemented nested system folder");return null}})},[E,n,L]);O=o.jsxs(o.Fragment,{children:[o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWJewelDropdownHeader",children:o.jsx(c("MWJewelDropdownHeader.react"),{inboxUrl:p,onClose:E,onOpenArchivedChats:O,onOpenMessageRequests:M,onOpenRestrictedAccountsList:N,title:B})}),o.jsxs("div",{className:"x1c4vz4f",children:[o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWJewelThreadListSearchTypeahead",children:o.jsx(c("MWJewelThreadListSearchTypeahead.react"),{onClose:E,pushPage:n})})," ",D&&o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("MWInboxContextSwitcherGlimmer.react"),{}),name:"MWInboxContextSwitcher",children:o.jsx(v,{entryPoint:"jewel",onTabChange:function(a){(l||(l=d("I64"))).equal(a,(m||(m=d("LSIntEnum"))).ofNumber(-14))&&(I.current=c("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:c("qpl")._(30620417,"938"),tracePolicy:"comet.jewel.messenger.communities",traceType:"INTERACTION"})),u(!1),H==null?void 0:H(a)},selectedFolderTab:G})})]}),(l||(l=d("I64"))).equal(G,(m||(m=d("LSIntEnum"))).ofNumber(0))&&e==null?o.jsx(c("MWInboxQuickPromotionWrapper.react"),{onError:C,children:o.jsx(b("cr:242"),{query:a,children:o.jsx(c("CometMessagingJewelDropdownQPBannerContainer.react"),{viewer:a.viewer})})}):null]});return o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!0,title:B}),name:"MWJewelDropdownContent",children:o.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"jewel",children:o.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"JewelThreadList",interactionUUID:F,children:o.jsx(c("CometTopNavListDropdownCard.react"),{testid:void 0,useFullHeight:D,useMaxHeight:!0,children:e!=null&&(l||(l=d("I64"))).equal(G,(m||(m=d("LSIntEnum"))).ofNumber(0))?o.jsxs(o.Fragment,{children:[O,e]}):o.jsxs(o.Fragment,{children:[D&&(l||(l=d("I64"))).equal(G,(m||(m=d("LSIntEnum"))).ofNumber(-14))?o.jsx(c("CometPlaceholder.react"),{fallback:o.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{isFullHeight:!0,title:B}),name:"CometMessagingJewelDropdownContent.MWCMBlendedThreadList",children:o.jsx(w,{gridLabel:B.toString(),header:o.jsxs(o.Fragment,{children:[O,o.jsx(c("CometErrorBoundary.react"),{onError:C,children:o.jsx(c("CometPlaceholder.react"),{fallback:null,name:"CometMessagingJewelDropdownContent.CommunitiesQPBanner",children:o.jsx(c("CometTransientDialogProvider.react"),{children:o.jsx(c("CometMessagingJewelCommunitiesQPBannerContainer.react"),{messagingEntryPoint:"jewel",onClose:E,viewer:a.viewer})})})})]}),lsEntryPoint:"jewel",messagingEntryPoint:"jewel",onClose:E,responsive:!1,viewer:a.viewer})}):o.jsx(c("MWThreadList.react"),{gridLabel:B.toString(),header:O,lsEntryPoint:"jewel",onClickNestedFolderThread:P,onClose:E,onOpenMessageRequests:M,parentThreadKey:G,responsive:!1}),b("cr:7643")&&o.jsx(b("cr:7643"),{onClick:E,url:p})]})})})})})}E.displayName=E.name+" [from "+f.id+"]";function a(a){var b=u(2),d=F;b[0]!==a?(d=o.jsx(c("MAWUnrecoverableErrorBoundary.react"),{fallback:d,children:o.jsx(c("CometErrorBoundary.react"),{fallback:d,children:o.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:d,children:o.jsx(E,babelHelpers["extends"]({},a))})})}),b[0]=a,b[1]=d):d=b[1];return d}function F(a){return o.jsx(A,{error:a})}F.displayName=F.name+" [from "+f.id+"]";e=p(a);g["default"]=e}),226);
__d("FBIconMarketplaceFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 922v5.27a.23.23 0 0 1-.23.23h-7.54a.23.23 0 0 1-.23-.23V922h-1v5.27c0 .68.55 1.23 1.23 1.23h7.54c.68 0 1.23-.55 1.23-1.23V922h-1z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M109.291 919c.18 0 .3-.183.23-.348l-.686-1.609a.863.863 0 0 0-.802-.543h-8.066a.86.86 0 0 0-.799.534l-.69 1.618a.25.25 0 0 0 .23.348h10.583zm-11.041 1a.25.25 0 0 0-.25.25v1c0 .69.553 1.25 1.234 1.25h.083c.287 0 .567-.102.788-.288l.206-.194.097.082c.308.259.695.4 1.096.4h.088a1.71 1.71 0 0 0 1.106-.409l.063-.072.11.091c.305.252.688.39 1.084.39h.067c.401 0 .792-.144 1.1-.404l.068-.076.09.076c.31.261.702.404 1.107.404h.103c.404 0 .797-.145 1.11-.41l.056-.067.195.166c.236.2.534.311.843.311.72 0 1.306-.594 1.306-1.325v-.925a.25.25 0 0 0-.25-.25h-11.5zm6.75 8h-2v-3.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25V928z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 928.5h-3v-3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v3.75zm-1-1V925h-1v2.5h1z",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSFetchCommunitiesActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.createArray(),c.forEach(c.db.table(162).fetch(),function(a){a=a.item;return d[2]=(d[0].push(a.folderId),d[0])})},function(a){return d[1]=c.i64.of_int32(d[0].length),c.i64.gt(d[1],c.i64.cast([0,0]))?(d[2]=new c.Map(),d[2].set("community_ids",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_unjoined_communities_activity_status",c.i64.cast([0,170003]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchCommunitiesActivityStatusStoredProcedure";e.exports=a}),null);
__d("LSFetchCommunitiesActivityStatusStoredProcedure",["LSFetchCommunitiesActivityStatus","cr:8709"],(function(a,b,c,d,e,f,g){function a(a){return c("LSFetchCommunitiesActivityStatus")(a)}g["default"]=a}),98);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[1]),d[0].set("from_timestamp_ms",a[2]),d[0].set("threads",a[3]),d[0].set("session_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadsActivityStatusStoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSVerifyThreadsActivityStatus","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSVerifyThreadsActivityStatus")(b.sessionId,b.serverMode,b.fromTimestampMs,b.threads,a)}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapperDeferredWithEBCheck.react",["cr:6086","cr:7120","cr:7632"],(function(a,b,c,d,e,f,g){"use strict";d=(c=(a=b("cr:6086"))!=null?a:b("cr:7120"))!=null?c:b("cr:7632");e=d;g["default"]=e}),98);
__d("MWEncryptedBackupsJewelNuxWrapperFallback.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useHasUnjoinedCMThreads",["LSIntEnum","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(){var a=k(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.threads?(e=function(){return d("ReQL").union(d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(24)),d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(i.ofNumber(19)))},a[0]=b.tables.threads,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];return!!d("ReQLSuspense").useFirst(e,g,f.id+":22")}g["default"]=a}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AsyncStorage")}),98);
__d("useMWCMVerifyActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSFetchCommunitiesActivityStatusStoredProcedure","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","isCommunityContainersEnabled","promiseDone","react","setInterval","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n=b.c,o=1e3*60*60,p=o*3;function q(a){return(j||(j=d("I64"))).add(j.lsl_(j.of_float(a[0]),32),j.of_float(a[1]))}function r(a){return[(j||(j=d("I64"))).to_float(j.lsr_(a,32)),j.to_float(j.and_(a,j.of_int32(4294967295)))]}function a(a,b){var e=n(33),g=(h||(h=c("useReStore")))(),i=l(null),s="__"+a+".fromTimestampMs__",t;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=r((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()-p)),e[0]=t):t=e[0];t=t;t=m(t);var u=t[0],v=t[1],w=l(u),x;e[1]!==u?(t=function(){w.current=u},x=[u],e[1]=u,e[2]=t,e[3]=x):(t=e[2],x=e[3]);k(t,x);var y=l(!1);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],e[4]=t):t=e[4];x=t;e[5]!==a?(t=c("MetaConfig")._("95")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[],e[5]=a,e[6]=t):t=e[6];a=t;e[7]!==a?(t=[].concat(x,a),e[7]=a,e[8]=t):t=e[8];x=t;var z=x;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("isCommunityContainersEnabled")(),e[9]=a):a=e[9];var A=a;e[10]!==z||e[11]!==s||e[12]!==g?(t=function(){z.length>0&&c("promiseDone")(c("MessengerAsyncStorage").getItem(s).then(function(a){if(a!=null){var b=JSON.parse(a);b!=null&&(A&&c("promiseDone")(g.runInTransaction(function(a){return c("LSFetchCommunitiesActivityStatusStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":104")),c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatusStoredProcedure")(c("LSFactory")(a),{fromTimestampMs:q(b),serverMode:c("LSVec").ofArray(z),threads:new(c("LSDict"))([])})},"readwrite",void 0,void 0,f.id+":115")))}})["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to set timestamp for thread activity status")}),function(){y.current=!0;var a=r((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()));c("promiseDone")(c("MessengerAsyncStorage").setItem(s,JSON.stringify(a)),function(){v(a)})})},e[10]=z,e[11]=s,e[12]=g,e[13]=t):t=e[13];var B=t;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){i.current!=null&&(c("clearInterval")(i.current),i.current=null)},e[14]=x):x=e[14];var C=x;e[15]!==B?(a=function(){if(i.current!=null)return;if(c("MetaConfig")._("96")){var a;i.current=c("setInterval")(B,(a=c("MetaConfig")._("43"))!=null?a:o)}},e[15]=B,e[16]=a):a=e[16];var D=a;e[17]!==D||e[18]!==B?(t=function(){var a=d("ServerTime").getMillis()-(j||(j=d("I64"))).to_float(q(w.current));i.current==null&&D();a>=((a=c("MetaConfig")._("43"))!=null?a:o)&&B()},e[17]=D,e[18]=B,e[19]=t):t=e[19];var E=t;e[20]!==b||e[21]!==E?(x=function(){d("VisibilityAPI").isVisibilityHidden()?C():b&&c("MetaConfig")._("97")&&E()},e[20]=b,e[21]=E,e[22]=x):x=e[22];var F=x;e[23]!==B||e[24]!==F||e[25]!==D?(a=function(){var a;a=null;y.current||(B(),d("VisibilityAPI").canUseVisibilityAPI&&(a=d("VisibilityAPI").onVisibilityChange(F)),D());return function(){a!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(a),i.current!=null&&(c("clearInterval")(i.current),i.current=null)}},e[23]=B,e[24]=F,e[25]=D,e[26]=a):a=e[26];e[27]!==E||e[28]!==D||e[29]!==b||e[30]!==B||e[31]!==F?(t=[C,E,D,b,B,F],e[27]=E,e[28]=D,e[29]=b,e[30]=B,e[31]=F,e[32]=t):t=e[32];k(a,t)}g["default"]=a}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","FDSPivotLinkTabs.react","I64","LSFactory","LSIntEnum","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","Promise","ReQL","ReQLSuspense","cr:7085","promiseDone","react","useHasUnjoinedCMThreads","useMWCMVerifyActivityStatusOnMountAndFocus","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.c,q={tabContainer:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var e=p(27),g=a.entryPoint,m=a.onTabChange,s=a.selectedFolderTab,t=(l||(l=c("useReStore")))();c("useMWCMVerifyActivityStatusOnMountAndFocus")("ContextSwitcher",g==="inbox");var u;e[0]!==t?(a=function(){c("promiseDone")(t.runInTransaction(function(a){return b("cr:7085")!=null?b("cr:7085")(c("LSFactory")(a)):(i||(i=b("Promise"))).resolve()},"readwrite",void 0,void 0,f.id+":79"))},u=[t],e[0]=t,e[1]=a,e[2]=u):(a=e[1],u=e[2]);o(a,u);e[3]!==t.tables.threads?(a=function(){var a=[d("ReQL").fromTableDescending(t.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(23)),d("ReQL").fromTableDescending(t.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(j.ofNumber(18)),d("ReQL").fromTableDescending(t.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(j.ofNumber(21))];return d("ReQL").union.apply(void 0,a)},e[3]=t.tables.threads,e[4]=a):a=e[4];e[5]!==t?(u=[t],e[5]=t,e[6]=u):u=e[6];a=!!d("ReQLSuspense").useFirst(a,u,f.id+":89");var v=c("useHasUnjoinedCMThreads")();u=d("MWInboxPersistedUIState").usePersistedUIState(v,"__MWInboxContextSwitcher.hasViewedSuggestedChats__");var w=u[0],x=u[1];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(u=(j||(j=d("LSIntEnum"))).ofNumber(0),e[7]=u):u=e[7];u=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(u);u=u!=null&&u>0;var y=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads(),z=v&&!w,A=g==="jewel"?"jewel_tray":"messenger_inbox",B=g==="inbox"?"jewel_inbox":"chats_inbox",C;e[8]!==B||e[9]!==A?(C={onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:B,source:"blended_threadlist_community_tab",surface:A})}},e[8]=B,e[9]=A,e[10]=C):C=e[10];C=c("useSinglePartialViewImpression")(C);if(e[11]!==u||e[12]!==y||e[13]!==z||e[14]!==a||e[15]!==v||e[16]!==B||e[17]!==A||e[18]!==C||e[19]!==w||e[20]!==x||e[21]!==g||e[22]!==m||e[23]!==s){var D=[{folder:(j||(j=d("LSIntEnum"))).ofNumber(0),hasNewContentBadge:u,isShown:!0,label:h._("__JHASH__4dBM4WjAtAu__JHASH__"),odsAction:"inbox_tab_click"},{folder:j.ofNumber(-14),hasNewContentBadge:y||z,isShown:a||v,label:h._("__JHASH___yDrE8px4gt__JHASH__"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:B,source:"blended_threadlist_community_tab",surface:A})},odsAction:"communities_tab_click",ref:C}];D=D.filter(r).map(function(a,b){var c=a.folder;b=a.hasNewContentBadge;a.isShown;var e=a.logClick,f=a.odsAction,h=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["folder","hasNewContentBadge","isShown","logClick","odsAction","ref"]);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){(k||(k=d("I64"))).equal(c,(j||(j=d("LSIntEnum"))).ofNumber(-14))&&v&&!w&&x(!0),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+g,f),e==null?void 0:e(),m(c)},ref:h,selected:(k||(k=d("I64"))).equal(c,s),testid:(k||(k=d("I64"))).equal(c,(j||(j=d("LSIntEnum"))).ofNumber(-14))?"communities_tab":void 0})});e[11]=u;e[12]=y;e[13]=z;e[14]=a;e[15]=v;e[16]=B;e[17]=A;e[18]=C;e[19]=w;e[20]=x;e[21]=g;e[22]=m;e[23]=s;e[24]=D}else D=e[24];u=D;e[25]!==u?(y=n.jsx(c("FDSPivotLinkTabs.react"),{linkType:"deemphasized",tabs:u,tabsContainerStyle:q.tabContainer}),e[25]=u,e[26]=y):y=e[26];return y}function r(a){return a.isShown}g["default"]=a}),226);
__d("MWJewelLightspeedSearchTypeaheadViewList.react",["CometScrollView.react","MWChatSearchLightspeedTypeaheadViewList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={scroll:{maxHeight:"x1wxkln1",$$css:!0}};function a(a){var b=i(10),d,e;b[0]!==a?(d=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);b[3]!==d?(a=[k.scroll,d],b[3]=d,b[4]=a):a=b[4];b[5]!==e?(d=j.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),babelHelpers["extends"]({showActionItems:!1},e)),b[5]=e,b[6]=d):d=b[6];b[7]!==a||b[8]!==d?(e=j.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:a,children:d}),b[7]=a,b[8]=d,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWJewelSearchEmptyState.react",["fbt","MWXText.react","react","useCometTypeaheadEmptyState","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.queryString;c("vulture")("6EN6xH49hyw");var d=c("useCometTypeaheadEmptyState")(),e;b[0]!==d||b[1]!==a?(e=d?k.jsxs("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[k.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._("__JHASH__kjfZwRT5xYf__JHASH__")}),k.jsx("br",{}),k.jsx(c("MWXText.react"),{align:"center",color:"tertiary",type:"body3",children:h._("__JHASH__vJvyHT-oIpm__JHASH__",[h._param("query",a)])})]}):null,b[0]=d,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("UniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("843");b=d("FalcoLoggerInternal").create("universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("UniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("840");b=d("FalcoLoggerInternal").create("universal_search_start",a);e=b;g["default"]=e}),98);
__d("createMWJewelSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWJewelLightspeedSearchTypeaheadViewList.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return function(d){var e=d.ariaProps,f=d.entries;d.extraViewProps;var g=d.highlightedEntry,h=d.isLoading;d.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(d,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);d=f.length===0&&j.queryString.length>0;h=f.length>0&&h;return d?i.jsx(c("MWJewelSearchEmptyState.react"),{queryString:j.queryString}):i.jsxs(i.Fragment,{children:[i.jsx(c("MWJewelLightspeedSearchTypeaheadViewList.react"),{ariaProps:e,entries:f,highlightedEntry:g,xstyle:a,children:function(a){var d=a.entry,e=a.isActive;a=a.itemRole;return i.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:d,extraViewItemProps:{loggingSessionId:b},isActive:e,key:d.key,role:a}))}}),h&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})}}g["default"]=a}),98);
__d("MWJewelSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWFacebookUserWithoutMessengerAccess","MWLSSearchIssueSearchQuerySupportedTypes","MWLSThreadDisplayContext","MWPSearchSystem","MWSearchLogging","UniversalSearchEndFalcoEvent","UniversalSearchQueryChangedFalcoEvent","UniversalSearchStartFalcoEvent","cr:2012305","createMWJewelSearchTypeaheadViewStrategy.react","gkx","isArmadillo","promiseDone","react","useReStore","uuidv4","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useEffect,n=e.useMemo,o=e.useRef,p=e.useState,q={searchInput:{marginTop:"x1xmf6yo",marginEnd:"x11i5rnm",marginBottom:"x1e56ztr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",$$css:!0},searchView:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x1gnnqk1",display:"x78zum5",minHeight:"xphu8jj",$$css:!0}},r=function(a){return c("createMWJewelSearchTypeaheadViewStrategy.react")(null,a)},s=c("gkx")("24086"),t=c("gkx")("23390");function a(a){var e=a.onChange,f=a.onFocus,g=a.onPressEntry,j=a.onSelectFreeformQuery,u=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","onFocus","onPressEntry","onSelectFreeformQuery"]);a=p(null);var v=a[0],w=a[1],x=o(null),y=(i||(i=c("useReStore")))(),z=o(!1);m(function(){var a=x.current;b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"MWJewelSearchTypeahead");return function(){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").unregisterTypingPerf(a)}},[x]);var A=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=n(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:y,excludedIDs:[],includeGroupSearch:A!=="ChatTab",includeMessageSearchEntry:!1,includeRecommendations:!0,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes,source:c("MWChatSearchSurfaces").universal})},[y,A]);var B=l(function(){w(null),v!=null&&(z.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:8,is_epd:t,session_id:v,transport_type:null}}),z.current=!0)),e("")},[e,v]),C=l(function(a){var b=function(){g!=null&&g(a)};if(v==null){b();return}d("MWSearchLogging").logResultSelected(v,u.queryString,a,z);b()},[g,v,u.queryString]),D=l(function(){s&&c("promiseDone")(d("MWPSearchSystem").clearAll(y));var a=c("uuidv4")();w(a);z.current=!1;c("UniversalSearchStartFalcoEvent").log(function(){return{is_epd:t,session_id:a}});c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:"0",query_string:null,session_id:a}})},[y]),E=l(function(a){v!=null&&c("UniversalSearchQueryChangedFalcoEvent").log(function(){return{query_length:a.length.toString(),query_string:a,session_id:v}}),e(a)},[e,v]),F=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),G=h._("__JHASH__ktsKn3dbNLm__JHASH__"),H=h._("__JHASH__wCWGz0nEOur__JHASH__");F=F?H:G;return k.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:c("isArmadillo")()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputRef:d("xplatToDOMRef").xplatToInputRef(x),inputStartContent:v!=null?k.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onChange:E,onClose:B,onFocus:f,onOpen:D,onPressEntry:C,onSelectFreeformQuery:j,placeholder:F,queryString:u.queryString,shouldHandleCloseAfterHandlePressEntry:!0,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:r(v),xstyles:{inputXStyle:q.searchInput,viewXStyle_DO_NOT_USE:q.searchView}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconMarketplace",["MWXSvgIcon","SVGIcon","cr:12489","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12489")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadListMarketplaceItem.react",["fbt","CometMarketplaceLogger","LSContactBitOffset","LSIntEnum","MWPBumpEntityKey","MWThreadListFolderItem.react","MWXIconGroup","MWXIconMarketplace","MWXIconStrict.react","ReQL","ReQLSuspense","react","useLogMarketplaceClick","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.c;function a(a){var b=n(27),e=a.onClick,g=a.responsive,k=a.selected,p=a.size;a=a.thread;var q=c("useLogMarketplaceClick")("marketplace_inbox_folder"),r=(i||(i=c("useReStore")))(),s;b[0]!==r.tables._user_info?(s=function(){return d("ReQL").fromTableAscending(r.tables._user_info).map(function(a){return a.facebookUserId})},b[0]=r.tables._user_info,b[1]=s):s=b[1];var t;b[2]!==r?(t=[r],b[2]=r,b[3]=t):t=b[3];var u=d("ReQLSuspense").useFirst(s,t,f.id+":50");b[4]!==u||b[5]!==r.tables.contacts?(s=function(){return u!=null?d("ReQL").fromTableAscending(r.tables.contacts,["capabilities","capabilities2"]).getKeyRange(u):d("ReQL").empty()},b[4]=u,b[5]=r.tables.contacts,b[6]=s):s=b[6];b[7]!==r||b[8]!==u?(t=[r,u],b[7]=r,b[8]=u,b[9]=t):t=b[9];s=d("ReQLSuspense").useFirst(s,t,f.id+":55");t=s!=null&&d("LSContactBitOffset").has(86,s);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(s=[],b[10]=s):s=b[10];m(o,s);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._("__JHASH__0Ktcc3EsRI7__JHASH__").toString(),b[11]=s):s=b[11];s=s;var v=c("MWXIconMarketplace");if(t===!0){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._("__JHASH__C-8UKByNynj__JHASH__").toString(),b[12]=t):t=b[12];s=t;v=c("MWXIconGroup")}b[13]!==v?(t=l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:v,size:36}),b[13]=v,b[14]=t):t=b[14];b[15]!==q||b[16]!==e?(v=function(){q();e((j||(j=d("LSIntEnum"))).ofNumber(-12));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},b[15]=q,b[16]=e,b[17]=v):v=b[17];var w;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(w=(j||(j=d("LSIntEnum"))).ofNumber(-12),b[18]=w):w=b[18];b[19]!==t||b[20]!==v||b[21]!==g||b[22]!==k||b[23]!==p||b[24]!==a||b[25]!==s?(w=l.jsx(c("MWThreadListFolderItem.react"),{icon:t,onClick:v,responsive:g,selected:k,size:p,systemFolder:w,thread:a,threadName:s}),b[19]=t,b[20]=v,b[21]=g,b[22]=k,b[23]=p,b[24]=a,b[25]=s,b[26]=w):w=b[26];return w}function o(){return d("CometMarketplaceLogger").logImpression("marketplace_inbox_folder")}g["default"]=a}),226);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["ARIA_LABEL_PLACEHOLDER_FIXME","FDSBadge.react","MAWStateContext.react","react","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k=function(a){return a.unArchivedSelfDeviceChangeAlerts};function a(){var a=j(5),b=c("useMAWSecurityAlertsPreferences")();b=b.securityAlertsPreferences;var e=d("MAWStateContext.react").useMAWSelector(k);b==null?void 0:b.allowSecurityAlertForSelf;var f;a[0]!==(b==null?void 0:b.allowSecurityAlertForSelf)||a[1]!==e?(f=(b==null?void 0:b.allowSecurityAlertForSelf)&&e>0?i.jsx("div",{className:"x1j1mzgm x10l6tqk x12ibf10",children:i.jsx(c("FDSBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),testid:void 0})}):null,a[0]=b==null?void 0:b.allowSecurityAlertForSelf,a[1]=e,a[2]=f):f=a[2];a[3]!==f?(b={badge:f},a[3]=f,a[4]=b):b=a[4];e=b;return e}g["default"]=a}),98);